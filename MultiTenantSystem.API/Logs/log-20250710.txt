2025-07-10 18:49:19.768 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 18:49:20.003 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 18:49:20.550 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 18:49:20.552 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 18:49:20.809 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 18:49:20.863 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 18:49:21.121 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 18:49:21.166 +05:45 [DBG] Creating DbConnection.
2025-07-10 18:49:21.225 +05:45 [DBG] Created DbConnection. (58ms).
2025-07-10 18:49:21.234 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.455 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.461 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:49:21.470 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-10 18:49:21.477 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2025-07-10 18:49:21.485 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:49:21.564 +05:45 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:49:21.615 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:49:21.642 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.653 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 81ms reading results.
2025-07-10 18:49:21.658 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.664 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (5ms).
2025-07-10 18:49:21.671 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 18:49:21.680 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 18:49:21.685 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.688 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.689 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:49:21.690 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:49:21.691 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 18:49:21.693 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 18:49:21.702 +05:45 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 18:49:21.722 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:49:21.773 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.775 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 67ms reading results.
2025-07-10 18:49:21.778 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.779 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:49:21.785 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.787 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.788 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:49:21.789 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:49:21.791 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 18:49:21.792 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:49:21.796 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:49:21.799 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:49:21.800 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.801 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 18:49:21.803 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.805 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:49:21.807 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.808 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.809 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:49:21.810 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:49:21.812 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 18:49:21.813 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:49:21.817 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:49:21.819 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:49:21.821 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.822 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 18:49:21.825 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.827 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 18:49:21.830 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 18:49:21.834 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:49:21.836 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 18:49:21.906 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 18:49:21.977 +05:45 [DBG] Hosting starting
2025-07-10 18:49:21.989 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 18:49:22.026 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 18:49:22.043 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 18:49:22.061 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 18:49:22.079 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 18:49:22.101 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 18:49:22.123 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 18:49:22.153 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 18:49:22.161 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 18:49:22.162 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 18:49:22.163 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 18:49:22.165 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 18:49:22.167 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 18:49:22.168 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 18:49:22.176 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 18:49:22.183 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 18:49:22.186 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 18:49:22.189 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 18:49:22.193 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 18:49:22.197 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 18:49:22.201 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 18:49:22.203 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 18:49:22.208 +05:45 [DBG] Middleware loaded
2025-07-10 18:49:22.210 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 18:49:22.212 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 18:49:22.323 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 18:49:22.606 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 18:49:22.606 +05:45 [DBG] Connection id "0HNDVM952R5GK" accepted.
2025-07-10 18:49:22.607 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 18:49:22.608 +05:45 [DBG] Connection id "0HNDVM952R5GL" accepted.
2025-07-10 18:49:22.610 +05:45 [DBG] Connection id "0HNDVM952R5GK" started.
2025-07-10 18:49:22.610 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 18:49:22.611 +05:45 [DBG] Connection id "0HNDVM952R5GL" started.
2025-07-10 18:49:22.614 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 18:49:22.619 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 18:49:22.621 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 18:49:22.631 +05:45 [DBG] Connection id "0HNDVM952R5GL" received FIN.
2025-07-10 18:49:22.631 +05:45 [DBG] Connection id "0HNDVM952R5GK" received FIN.
2025-07-10 18:49:22.642 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 18:49:22.641 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 18:49:22.717 +05:45 [DBG] Connection id "0HNDVM952R5GL" stopped.
2025-07-10 18:49:22.723 +05:45 [DBG] Connection id "0HNDVM952R5GK" stopped.
2025-07-10 18:49:22.733 +05:45 [DBG] Connection id "0HNDVM952R5GK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 18:49:22.733 +05:45 [DBG] Connection id "0HNDVM952R5GL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 18:49:22.766 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 18:49:22.771 +05:45 [INF] Hosting environment: Development
2025-07-10 18:49:22.774 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 18:49:22.784 +05:45 [DBG] Hosting started
2025-07-10 18:49:24.964 +05:45 [DBG] Connection id "0HNDVM952R5GM" accepted.
2025-07-10 18:49:25.294 +05:45 [DBG] Connection id "0HNDVM952R5GM" started.
2025-07-10 18:49:25.520 +05:45 [DBG] Connection 0HNDVM952R5GM established using the following protocol: "Tls12"
2025-07-10 18:49:25.646 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 18:49:25.866 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 18:49:25.988 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 18:49:25.992 +05:45 [DBG] Request did not match any endpoints
2025-07-10 18:49:26.100 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 18:49:26.106 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 18:49:26.130 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 18:49:26.131 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 18:49:26.135 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 498.9011ms
2025-07-10 18:49:26.225 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 18:49:26.228 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 18:49:26.239 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 18:49:26.243 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 17.1806ms
2025-07-10 18:49:26.298 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 70.1341ms
2025-07-10 18:49:26.560 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 18:49:26.564 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 18:49:26.566 +05:45 [DBG] Request did not match any endpoints
2025-07-10 18:49:26.588 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.7812ms
2025-07-10 18:49:28.882 +05:45 [DBG] Connection id "0HNDVM952R5GM" received FIN.
2025-07-10 18:49:28.886 +05:45 [DBG] Connection id "0HNDVM952R5GM" is closed. The last processed stream ID was 7.
2025-07-10 18:49:28.886 +05:45 [DBG] The connection queue processing loop for 0HNDVM952R5GM completed.
2025-07-10 18:49:28.888 +05:45 [DBG] Connection id "0HNDVM952R5GM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 18:49:28.892 +05:45 [DBG] Connection id "0HNDVM952R5GM" stopped.
2025-07-10 18:54:28.126 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 18:54:28.262 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 18:54:28.669 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 18:54:28.672 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 18:54:28.868 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 18:54:28.914 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 18:54:29.068 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 18:54:29.099 +05:45 [DBG] Creating DbConnection.
2025-07-10 18:54:29.136 +05:45 [DBG] Created DbConnection. (34ms).
2025-07-10 18:54:29.144 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.403 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.409 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:54:29.415 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-10 18:54:29.421 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-07-10 18:54:29.429 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:54:29.487 +05:45 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:54:29.521 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:54:29.538 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.548 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 54ms reading results.
2025-07-10 18:54:29.553 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.558 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (4ms).
2025-07-10 18:54:29.567 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 18:54:29.575 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 18:54:29.582 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.584 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.585 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:54:29.586 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 18:54:29.587 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:54:29.588 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 18:54:29.594 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 18:54:29.608 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:54:29.634 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.636 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 39ms reading results.
2025-07-10 18:54:29.638 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.639 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:54:29.643 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.644 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.646 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:54:29.647 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 18:54:29.648 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:54:29.649 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:54:29.652 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:54:29.655 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:54:29.656 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.657 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 18:54:29.658 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.660 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:54:29.661 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.662 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.663 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:54:29.664 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 18:54:29.665 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:54:29.666 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:54:29.669 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 18:54:29.671 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:54:29.672 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.673 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 18:54:29.675 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.676 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:54:29.678 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 18:54:29.681 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:54:29.682 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:54:29.731 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 18:54:29.780 +05:45 [DBG] Hosting starting
2025-07-10 18:54:29.789 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 18:54:29.797 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 18:54:29.801 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 18:54:29.803 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 18:54:29.804 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 18:54:29.805 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 18:54:29.806 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 18:54:29.810 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 18:54:29.815 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 18:54:29.817 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 18:54:29.818 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 18:54:29.819 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 18:54:29.821 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 18:54:29.825 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 18:54:29.831 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 18:54:29.837 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 18:54:29.839 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 18:54:29.842 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 18:54:29.846 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 18:54:29.849 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 18:54:29.853 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 18:54:29.854 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 18:54:29.860 +05:45 [DBG] Middleware loaded
2025-07-10 18:54:29.863 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 18:54:29.865 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 18:54:29.934 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 18:54:30.003 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 18:54:30.005 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 18:54:30.006 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 18:54:30.007 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 18:54:30.008 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 18:54:30.009 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 18:54:30.053 +05:45 [DBG] Connection id "0HNDVMC0MSESK" accepted.
2025-07-10 18:54:30.055 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 18:54:30.057 +05:45 [DBG] Connection id "0HNDVMC0MSESK" started.
2025-07-10 18:54:30.058 +05:45 [INF] Hosting environment: Development
2025-07-10 18:54:30.060 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 18:54:30.061 +05:45 [DBG] Hosting started
2025-07-10 18:54:30.068 +05:45 [DBG] Connection id "0HNDVMC0MSESL" received FIN.
2025-07-10 18:54:30.068 +05:45 [DBG] Connection id "0HNDVMC0MSESK" received FIN.
2025-07-10 18:54:30.071 +05:45 [DBG] Connection id "0HNDVMC0MSESL" accepted.
2025-07-10 18:54:30.072 +05:45 [DBG] Connection id "0HNDVMC0MSESL" started.
2025-07-10 18:54:30.078 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 18:54:30.078 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 18:54:30.160 +05:45 [DBG] Connection id "0HNDVMC0MSESK" stopped.
2025-07-10 18:54:30.160 +05:45 [DBG] Connection id "0HNDVMC0MSESL" stopped.
2025-07-10 18:54:30.170 +05:45 [DBG] Connection id "0HNDVMC0MSESK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 18:54:30.170 +05:45 [DBG] Connection id "0HNDVMC0MSESL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 18:54:30.341 +05:45 [DBG] Connection id "0HNDVMC0MSESM" accepted.
2025-07-10 18:54:30.343 +05:45 [DBG] Connection id "0HNDVMC0MSESM" started.
2025-07-10 18:54:30.394 +05:45 [DBG] Connection 0HNDVMC0MSESM established using the following protocol: "Tls12"
2025-07-10 18:54:30.621 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 18:54:30.621 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 18:54:30.652 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 18:54:30.657 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 42.1665ms
2025-07-10 18:54:30.720 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 18:54:30.742 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 18:54:30.745 +05:45 [DBG] Request did not match any endpoints
2025-07-10 18:54:30.816 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 18:54:30.820 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 18:54:30.842 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 18:54:30.849 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 18:54:30.851 +05:45 [DBG] Request did not match any endpoints
2025-07-10 18:54:30.852 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 18:54:30.854 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 18:54:30.858 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 244.0737ms
2025-07-10 18:54:30.870 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.0724ms
2025-07-10 18:54:30.885 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 18:54:30.887 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 18:54:30.890 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 18:54:30.895 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 9.5504ms
2025-07-10 18:54:30.945 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.956ms
2025-07-10 18:54:31.107 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 18:54:31.109 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 18:54:31.111 +05:45 [DBG] Request did not match any endpoints
2025-07-10 18:54:31.119 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.4396ms
2025-07-10 18:59:11.213 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 112
2025-07-10 18:59:11.224 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 18:59:11.226 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 18:59:11.229 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 18:59:11.232 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 18:59:11.233 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 18:59:11.234 +05:45 [INF] CORS policy execution successful.
2025-07-10 18:59:12.659 +05:45 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-10 18:59:12.663 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 18:59:12.680 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 18:59:12.684 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 18:59:12.685 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 18:59:12.687 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 18:59:12.688 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 18:59:12.689 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 18:59:12.692 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 18:59:12.696 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 18:59:12.709 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 18:59:12.713 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 18:59:12.716 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 18:59:12.726 +05:45 [DBG] Connection id "0HNDVMC0MSESM", Request id "0HNDVMC0MSESM:0000000D": started reading request body.
2025-07-10 18:59:12.729 +05:45 [DBG] Connection id "0HNDVMC0MSESM", Request id "0HNDVMC0MSESM:0000000D": done reading request body.
2025-07-10 18:59:12.734 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 18:59:12.736 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 18:59:12.737 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 18:59:12.738 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 18:59:12.746 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 18:59:14.980 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 18:59:14.984 +05:45 [DBG] Creating DbConnection.
2025-07-10 18:59:14.985 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 18:59:14.985 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:14.986 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:14.987 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:59:14.988 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 18:59:14.989 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:59:14.990 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 18:59:14.993 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 18:59:14.997 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:59:14.998 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:14.999 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 18:59:15.001 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:15.002 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:59:15.411 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-10 18:59:15.450 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 18:59:15.454 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:15.455 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:15.456 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:59:15.457 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 18:59:15.458 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:59:15.459 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 18:59:15.467 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 18:59:15.469 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:15.470 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 18:59:15.472 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:15.473 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:59:15.769 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 18:59:15.775 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 18:59:15.776 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 18:59:15.777 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 18:59:15.778 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 18:59:15.779 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 18:59:15.787 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 3092.9764ms
2025-07-10 18:59:15.790 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 18:59:15.793 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 18:59:15.797 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:15.801 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (3ms).
2025-07-10 18:59:15.803 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 4590.3436ms
2025-07-10 18:59:41.003 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/api/Employee/GetAllEmployee - null null
2025-07-10 18:59:41.014 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/GetAllEmployee'
2025-07-10 18:59:41.016 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API)' with route pattern 'api/Employee/GetAllEmployee' is valid for the request path '/api/Employee/GetAllEmployee'
2025-07-10 18:59:41.017 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API)'
2025-07-10 18:59:41.018 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 18:59:41.066 +05:45 [DBG] Successfully validated the token.
2025-07-10 18:59:41.068 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 18:59:41.074 +05:45 [DBG] Authorization was successful.
2025-07-10 18:59:41.075 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API)'
2025-07-10 18:59:41.079 +05:45 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 18:59:41.081 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 18:59:41.083 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 18:59:41.084 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 18:59:41.085 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 18:59:41.087 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 18:59:41.088 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 18:59:41.092 +05:45 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-10 18:59:41.094 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 18:59:41.111 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 18:59:41.117 +05:45 [DBG] Compiling query expression: 
'DbSet<Employee>()'
2025-07-10 18:59:41.122 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Address (string) Required, 1], [Property: Employee.ContactNo (string) Required, 2], [Property: Employee.Email (string) Required, 3], [Property: Employee.FullName (string) Required, 4], [Property: Employee.Position (string) Required, 5], [Property: Employee.TenantId (Guid) Required, 6] }
        SELECT e.Id, e.Address, e.ContactNo, e.Email, e.FullName, e.Position, e.TenantId
        FROM Employees AS e), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 18:59:41.125 +05:45 [DBG] Creating DbConnection.
2025-07-10 18:59:41.126 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 18:59:41.127 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:41.159 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:41.161 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 18:59:41.162 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 18:59:41.163 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 18:59:41.164 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
2025-07-10 18:59:41.167 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
2025-07-10 18:59:41.171 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 18:59:41.181 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:41.183 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 14ms reading results.
2025-07-10 18:59:41.185 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:41.186 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:59:41.189 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 18:59:41.191 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 18:59:41.191 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 18:59:41.192 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 18:59:41.193 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 18:59:41.194 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MultiTenantSystem.Application.DTOs.EmployeeDto, MultiTenantSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-10 18:59:41.198 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API) in 109.5896ms
2025-07-10 18:59:41.201 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API)'
2025-07-10 18:59:41.202 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 18:59:41.203 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 18:59:41.205 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 18:59:41.206 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/api/Employee/GetAllEmployee - 200 null application/json; charset=utf-8 203.1971ms
2025-07-10 19:00:35.749 +05:45 [INF] Request starting HTTP/2 PUT https://localhost:7201/api/Employee/UpdateEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb - application/json 122
2025-07-10 19:00:35.767 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/UpdateEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb'
2025-07-10 19:00:35.768 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)' with route pattern 'api/Employee/UpdateEmployee/{id}' is valid for the request path '/api/Employee/UpdateEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb'
2025-07-10 19:00:35.771 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 19:00:35.773 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:00:35.774 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:00:35.775 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:00:35.778 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:00:35.778 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:00:35.780 +05:45 [DBG] Authorization was successful.
2025-07-10 19:00:35.781 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 19:00:35.785 +05:45 [INF] Route matched with {action = "Update", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, MultiTenantSystem.Application.DTOs.CreateEmployeeDto) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 19:00:35.788 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:00:35.789 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:00:35.791 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:00:35.793 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:00:35.794 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:00:35.795 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 19:00:35.797 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 19:00:35.798 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-07-10 19:00:35.800 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-07-10 19:00:35.801 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 19:00:35.804 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 19:00:35.804 +05:45 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-07-10 19:00:35.806 +05:45 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-07-10 19:00:35.807 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 19:00:35.808 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' using the name '' in request data ...
2025-07-10 19:00:35.810 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:00:35.811 +05:45 [DBG] Connection id "0HNDVMC0MSESM", Request id "0HNDVMC0MSESM:00000011": started reading request body.
2025-07-10 19:00:35.812 +05:45 [DBG] Connection id "0HNDVMC0MSESM", Request id "0HNDVMC0MSESM:00000011": done reading request body.
2025-07-10 19:00:35.814 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'
2025-07-10 19:00:35.815 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 19:00:35.816 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 19:00:35.817 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 19:00:35.819 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 19:00:35.823 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:00:35.837 +05:45 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2025-07-10 19:00:35.844 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: new SingleQueryingEnumerable<Employee>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Address (string) Required, 1], [Property: Employee.ContactNo (string) Required, 2], [Property: Employee.Email (string) Required, 3], [Property: Employee.FullName (string) Required, 4], [Property: Employee.Position (string) Required, 5], [Property: Employee.TenantId (Guid) Required, 6] }
            SELECT TOP(1) e.Id, e.Address, e.ContactNo, e.Email, e.FullName, e.Position, e.TenantId
            FROM Employees AS e
            WHERE e.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:00:35.847 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:00:35.848 +05:45 [DBG] Created DbConnection. (1ms).
2025-07-10 19:00:35.849 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:00:35.850 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:00:35.851 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:00:35.852 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:00:35.853 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:00:35.854 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 19:00:35.857 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 19:00:35.861 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:00:35.862 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:00:35.863 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:00:35.864 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:00:35.865 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:00:35.947 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API) in 152.0355ms
2025-07-10 19:00:35.950 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 19:00:36.018 +05:45 [ERR] Unhandled Exception: User does not belong to the specified tenant
System.UnauthorizedAccessException: User does not belong to the specified tenant
   at MultiTenantSystem.Application.Features.Employee.Commands.UpdateEmployeeCommandHandler.Handle(UpdateEmployeeCommand request, CancellationToken cancellationToken) in E:\SumX\MultiTenantSystem.API\MultiTenantSystem.Application\Features\Employee\Commands\UpdateEmployeeCommandHandler.cs:line 31
   at MultiTenantSystem.API.Controllers.EmployeeController.Update(Guid id, CreateEmployeeDto dto) in E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API\Controllers\EmployeeController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at MultiTenantSystem.API.Middleware.ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-07-10 19:00:36.397 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:00:36.399 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:00:36.401 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:00:36.403 +05:45 [INF] Request finished HTTP/2 PUT https://localhost:7201/api/Employee/UpdateEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb - 401 null application/json 653.9366ms
2025-07-10 19:01:14.054 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 112
2025-07-10 19:01:14.062 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 19:01:14.064 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 19:01:14.065 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:01:14.066 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:01:14.067 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:01:14.068 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:01:14.068 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:01:14.069 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:01:14.070 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:01:14.071 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 19:01:14.073 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:01:14.074 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:01:14.075 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:01:14.077 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:01:14.078 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:01:14.079 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:01:14.087 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:01:14.091 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:01:14.092 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 19:01:14.093 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:01:14.095 +05:45 [DBG] Connection id "0HNDVMC0MSESM", Request id "0HNDVMC0MSESM:00000013": started reading request body.
2025-07-10 19:01:14.096 +05:45 [DBG] Connection id "0HNDVMC0MSESM", Request id "0HNDVMC0MSESM:00000013": done reading request body.
2025-07-10 19:01:14.097 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 19:01:14.099 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:01:14.100 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:01:14.101 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:01:14.102 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:01:15.831 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:01:15.834 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:01:15.835 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 19:01:15.837 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.838 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.839 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:01:15.839 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:01:15.840 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:01:15.841 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:01:15.846 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:01:15.848 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:01:15.849 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.850 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:01:15.853 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.854 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:01:15.935 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.937 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.940 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:01:15.941 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:01:15.943 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-10 19:01:15.944 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:01:15.949 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:01:15.951 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.952 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 19:01:15.953 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.954 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:01:15.956 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:01:15.957 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:01:15.958 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:01:15.959 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:01:15.959 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 19:01:15.961 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 19:01:15.962 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 1882.4539ms
2025-07-10 19:01:15.964 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:01:15.965 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:01:15.966 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:15.967 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:01:15.969 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 1915.3233ms
2025-07-10 19:01:35.753 +05:45 [INF] Request starting HTTP/2 PUT https://localhost:7201/api/Employee/UpdateEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb - application/json 122
2025-07-10 19:01:35.756 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/UpdateEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb'
2025-07-10 19:01:35.758 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)' with route pattern 'api/Employee/UpdateEmployee/{id}' is valid for the request path '/api/Employee/UpdateEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb'
2025-07-10 19:01:35.760 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 19:01:35.761 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:01:35.762 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:01:35.763 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:01:35.764 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:01:35.765 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:01:35.766 +05:45 [DBG] Authorization was successful.
2025-07-10 19:01:35.767 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 19:01:35.768 +05:45 [INF] Route matched with {action = "Update", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, MultiTenantSystem.Application.DTOs.CreateEmployeeDto) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 19:01:35.770 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:01:35.771 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:01:35.772 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:01:35.774 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:01:35.775 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:01:35.778 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 19:01:35.780 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 19:01:35.781 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-07-10 19:01:35.783 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-07-10 19:01:35.785 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 19:01:35.785 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 19:01:35.786 +05:45 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-07-10 19:01:35.787 +05:45 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-07-10 19:01:35.789 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 19:01:35.790 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' using the name '' in request data ...
2025-07-10 19:01:35.791 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:01:35.792 +05:45 [DBG] Connection id "0HNDVMC0MSESM", Request id "0HNDVMC0MSESM:00000015": started reading request body.
2025-07-10 19:01:35.794 +05:45 [DBG] Connection id "0HNDVMC0MSESM", Request id "0HNDVMC0MSESM:00000015": done reading request body.
2025-07-10 19:01:35.795 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'
2025-07-10 19:01:35.796 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 19:01:35.797 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 19:01:35.798 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 19:01:35.799 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 19:01:35.801 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:01:35.805 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:01:35.805 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 19:01:35.806 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.807 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.808 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:01:35.809 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:01:35.811 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:01:35.812 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 19:01:35.815 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 19:01:35.817 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:01:35.819 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.819 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:01:35.821 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.822 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:01:35.832 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:01:35.837 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 19:01:35.840 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 19:01:35.849 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 19:01:35.891 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.895 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.897 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:01:35.898 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:01:35.899 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:01:35.900 +05:45 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Employees" SET "Address" = @p0, "ContactNo" = @p1, "Email" = @p2, "FullName" = @p3, "Position" = @p4, "TenantId" = @p5
WHERE "Id" = @p6;
2025-07-10 19:01:35.907 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Employees" SET "Address" = @p0, "ContactNo" = @p1, "Email" = @p2, "FullName" = @p3, "Position" = @p4, "TenantId" = @p5
WHERE "Id" = @p6;
2025-07-10 19:01:35.913 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.914 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 19:01:35.916 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.918 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:01:35.920 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:01:35.923 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 19:01:35.925 +05:45 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-10 19:01:35.927 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API) in 149.1162ms
2025-07-10 19:01:35.928 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 19:01:35.929 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:01:35.931 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:01:35.932 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:01:35.933 +05:45 [INF] Request finished HTTP/2 PUT https://localhost:7201/api/Employee/UpdateEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb - 204 null null 180.854ms
2025-07-10 19:04:22.204 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 19:04:22.323 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 19:04:22.726 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 19:04:22.729 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 19:04:22.920 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:04:22.968 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 19:04:23.117 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:04:23.150 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:04:23.186 +05:45 [DBG] Created DbConnection. (33ms).
2025-07-10 19:04:23.192 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.340 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.346 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:04:23.353 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-10 19:04:23.360 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-07-10 19:04:23.369 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:04:23.428 +05:45 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:04:23.463 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:04:23.480 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.489 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 52ms reading results.
2025-07-10 19:04:23.495 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.500 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (5ms).
2025-07-10 19:04:23.507 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 19:04:23.514 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:04:23.520 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.522 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.523 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:04:23.524 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:04:23.525 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:04:23.526 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:04:23.532 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:04:23.546 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:04:23.573 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.575 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 39ms reading results.
2025-07-10 19:04:23.577 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.578 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:04:23.581 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.583 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.584 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:04:23.585 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:04:23.587 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:04:23.588 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:04:23.590 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:04:23.592 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:04:23.593 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.594 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:04:23.596 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.597 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:04:23.599 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.599 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.601 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:04:23.601 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:04:23.603 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:04:23.604 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:04:23.607 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:04:23.609 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:04:23.610 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.613 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 19:04:23.614 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.615 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:04:23.618 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:04:23.620 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:04:23.622 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:04:23.723 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 19:04:23.775 +05:45 [DBG] Hosting starting
2025-07-10 19:04:23.782 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 19:04:23.790 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 19:04:23.792 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 19:04:23.793 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 19:04:23.795 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 19:04:23.796 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 19:04:23.797 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 19:04:23.802 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 19:04:23.806 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 19:04:23.808 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 19:04:23.809 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 19:04:23.810 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 19:04:23.810 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 19:04:23.813 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 19:04:23.818 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 19:04:23.823 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 19:04:23.825 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 19:04:23.826 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 19:04:23.831 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 19:04:23.836 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 19:04:23.839 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 19:04:23.841 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 19:04:23.845 +05:45 [DBG] Middleware loaded
2025-07-10 19:04:23.848 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 19:04:23.850 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 19:04:23.932 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 19:04:24.007 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 19:04:24.009 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 19:04:24.010 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 19:04:24.010 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 19:04:24.012 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 19:04:24.014 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 19:04:24.060 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 19:04:24.061 +05:45 [INF] Hosting environment: Development
2025-07-10 19:04:24.064 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 19:04:24.065 +05:45 [DBG] Hosting started
2025-07-10 19:04:24.194 +05:45 [DBG] Connection id "0HNDVMHHP1V8E" received FIN.
2025-07-10 19:04:24.207 +05:45 [DBG] Connection id "0HNDVMHHP1V8E" accepted.
2025-07-10 19:04:24.210 +05:45 [DBG] Connection id "0HNDVMHHP1V8E" started.
2025-07-10 19:04:24.223 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 19:04:24.262 +05:45 [DBG] Connection id "0HNDVMHHP1V8E" stopped.
2025-07-10 19:04:24.267 +05:45 [DBG] Connection id "0HNDVMHHP1V8E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 19:04:24.276 +05:45 [DBG] Connection id "0HNDVMHHP1V8F" accepted.
2025-07-10 19:04:24.278 +05:45 [DBG] Connection id "0HNDVMHHP1V8F" started.
2025-07-10 19:04:24.324 +05:45 [DBG] Connection 0HNDVMHHP1V8F established using the following protocol: "Tls12"
2025-07-10 19:04:24.366 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 19:04:24.444 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 19:04:24.461 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 19:04:24.464 +05:45 [DBG] Request did not match any endpoints
2025-07-10 19:04:24.511 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 19:04:24.514 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 19:04:24.530 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 19:04:24.532 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 19:04:24.535 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 173.6689ms
2025-07-10 19:04:24.565 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 19:04:24.565 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 19:04:24.581 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 19:04:24.583 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 18.0566ms
2025-07-10 19:04:24.608 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.9451ms
2025-07-10 19:04:24.765 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 19:04:24.771 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 19:04:24.773 +05:45 [DBG] Request did not match any endpoints
2025-07-10 19:04:24.790 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.6547ms
2025-07-10 19:05:52.693 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 112
2025-07-10 19:05:52.706 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 19:05:52.708 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 19:05:52.711 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:05:52.713 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:05:52.716 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:05:52.717 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:05:52.767 +05:45 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-10 19:05:52.771 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:05:52.786 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 19:05:52.790 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:05:52.791 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:05:52.792 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:05:52.794 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:05:52.795 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:05:52.797 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:05:52.801 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:05:52.812 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:05:52.816 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 19:05:52.819 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:05:52.831 +05:45 [DBG] Connection id "0HNDVMHHP1V8F", Request id "0HNDVMHHP1V8F:00000009": started reading request body.
2025-07-10 19:05:52.834 +05:45 [DBG] Connection id "0HNDVMHHP1V8F", Request id "0HNDVMHHP1V8F:00000009": done reading request body.
2025-07-10 19:05:52.839 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 19:05:52.841 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:05:52.842 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:05:52.843 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:05:52.851 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:05:54.542 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:05:54.547 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:05:54.549 +05:45 [DBG] Created DbConnection. (2ms).
2025-07-10 19:05:54.551 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.552 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.553 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:05:54.554 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:05:54.555 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:05:54.556 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:05:54.558 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:05:54.561 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:05:54.562 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.563 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:05:54.565 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.566 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:05:54.657 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-10 19:05:54.694 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 19:05:54.699 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.700 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.702 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:05:54.703 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:05:54.704 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:05:54.706 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:05:54.711 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:05:54.714 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.715 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 19:05:54.716 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.717 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:05:54.746 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:05:54.750 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:05:54.751 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:05:54.752 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:05:54.753 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 19:05:54.754 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 19:05:54.761 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 1962.5823ms
2025-07-10 19:05:54.762 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:05:54.766 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:05:54.770 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:05:54.771 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:05:54.775 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 2081.9053ms
2025-07-10 19:06:40.630 +05:45 [INF] Request starting HTTP/2 DELETE https://localhost:7201/api/Employee/DeleteEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb - null null
2025-07-10 19:06:40.639 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/DeleteEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb'
2025-07-10 19:06:40.640 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)' with route pattern 'api/Employee/DeleteEmployee/{id}' is valid for the request path '/api/Employee/DeleteEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb'
2025-07-10 19:06:40.642 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 19:06:40.643 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:06:40.644 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:06:40.644 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:06:40.679 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:06:40.681 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:06:40.687 +05:45 [DBG] Authorization was successful.
2025-07-10 19:06:40.690 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 19:06:40.696 +05:45 [INF] Route matched with {action = "Delete", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 19:06:40.697 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:06:40.698 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:06:40.699 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:06:40.701 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:06:40.703 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:06:40.705 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 19:06:40.708 +05:45 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-10 19:06:40.709 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 19:06:40.711 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-07-10 19:06:40.712 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-07-10 19:06:40.714 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 19:06:40.715 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 19:06:40.716 +05:45 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-07-10 19:06:40.717 +05:45 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-07-10 19:06:40.729 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:06:40.743 +05:45 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2025-07-10 19:06:40.750 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: new SingleQueryingEnumerable<Employee>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Address (string) Required, 1], [Property: Employee.ContactNo (string) Required, 2], [Property: Employee.Email (string) Required, 3], [Property: Employee.FullName (string) Required, 4], [Property: Employee.Position (string) Required, 5], [Property: Employee.TenantId (Guid) Required, 6] }
            SELECT TOP(1) e.Id, e.Address, e.ContactNo, e.Email, e.FullName, e.Position, e.TenantId
            FROM Employees AS e
            WHERE e.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:06:40.754 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:06:40.754 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 19:06:40.755 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:06:40.756 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:06:40.757 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:06:40.758 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:06:40.759 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:06:40.760 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 19:06:40.763 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 19:06:40.768 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:06:40.778 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:06:40.780 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 14ms reading results.
2025-07-10 19:06:40.782 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:06:40.783 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:06:40.863 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API) in 158.2016ms
2025-07-10 19:06:40.865 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 19:06:40.934 +05:45 [ERR] Unhandled Exception: User does not belong to the specified tenant
System.UnauthorizedAccessException: User does not belong to the specified tenant
   at MultiTenantSystem.Application.Features.Employee.Commands.DeleteEmployeeCommandHandler.Handle(DeleteEmployeeCommand request, CancellationToken cancellationToken) in E:\SumX\MultiTenantSystem.API\MultiTenantSystem.Application\Features\Employee\Commands\DeleteEmployeeCommandHandler.cs:line 31
   at MultiTenantSystem.API.Controllers.EmployeeController.Delete(Guid id) in E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API\Controllers\EmployeeController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at MultiTenantSystem.API.Middleware.ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API\Middleware\ExceptionHandlingMiddleware.cs:line 21
2025-07-10 19:06:40.967 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:06:40.969 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:06:40.972 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 19:06:40.974 +05:45 [INF] Request finished HTTP/2 DELETE https://localhost:7201/api/Employee/DeleteEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb - 401 null application/json 345.3929ms
2025-07-10 19:07:17.501 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 112
2025-07-10 19:07:17.504 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 19:07:17.505 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 19:07:17.507 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:07:17.508 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:07:17.509 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:07:17.510 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:07:17.513 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:07:17.515 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:07:17.516 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:07:17.516 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 19:07:17.518 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:07:17.519 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:07:17.520 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:07:17.522 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:07:17.524 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:07:17.525 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:07:17.532 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:07:17.534 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:07:17.535 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 19:07:17.536 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:07:17.537 +05:45 [DBG] Connection id "0HNDVMHHP1V8F", Request id "0HNDVMHHP1V8F:0000000D": started reading request body.
2025-07-10 19:07:17.539 +05:45 [DBG] Connection id "0HNDVMHHP1V8F", Request id "0HNDVMHHP1V8F:0000000D": done reading request body.
2025-07-10 19:07:17.540 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 19:07:17.541 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:07:17.542 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:07:17.543 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:07:17.545 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:07:20.203 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:07:20.206 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:07:20.207 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 19:07:20.210 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.212 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.213 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:07:20.214 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:07:20.216 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:07:20.217 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:07:20.222 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:07:20.225 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:07:20.227 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.228 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:07:20.229 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.231 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:07:20.322 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.324 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.325 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:07:20.326 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:07:20.328 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-10 19:07:20.329 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:07:20.332 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:07:20.334 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.335 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 19:07:20.336 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.337 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:07:20.339 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:07:20.341 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:07:20.342 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:07:20.343 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:07:20.343 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 19:07:20.344 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 19:07:20.346 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 2820.8201ms
2025-07-10 19:07:20.347 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:07:20.348 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:07:20.349 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:20.350 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:07:20.351 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 2850.4099ms
2025-07-10 19:07:39.822 +05:45 [INF] Request starting HTTP/2 DELETE https://localhost:7201/api/Employee/DeleteEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb - null null
2025-07-10 19:07:39.827 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/DeleteEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb'
2025-07-10 19:07:39.828 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)' with route pattern 'api/Employee/DeleteEmployee/{id}' is valid for the request path '/api/Employee/DeleteEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb'
2025-07-10 19:07:39.830 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 19:07:39.831 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:07:39.832 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:07:39.833 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:07:39.834 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:07:39.835 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:07:39.836 +05:45 [DBG] Authorization was successful.
2025-07-10 19:07:39.837 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 19:07:39.839 +05:45 [INF] Route matched with {action = "Delete", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 19:07:39.841 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:07:39.842 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:07:39.843 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:07:39.844 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:07:39.845 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:07:39.847 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 19:07:39.848 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 19:07:39.849 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-07-10 19:07:39.851 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-07-10 19:07:39.852 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 19:07:39.853 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 19:07:39.854 +05:45 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-07-10 19:07:39.855 +05:45 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-07-10 19:07:39.857 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:07:39.860 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:07:39.860 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 19:07:39.861 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.863 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.864 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:07:39.865 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:07:39.866 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:07:39.867 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 19:07:39.870 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 19:07:39.873 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:07:39.874 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.875 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:07:39.876 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.877 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:07:39.886 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:07:39.893 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 19:07:39.897 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 19:07:39.909 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 19:07:39.952 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.954 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.957 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:07:39.958 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:07:39.959 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:07:39.959 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Employees"
WHERE "Id" = @p0;
2025-07-10 19:07:39.963 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Employees"
WHERE "Id" = @p0;
2025-07-10 19:07:39.968 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.969 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 19:07:39.971 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.973 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:07:39.978 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:07:39.982 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 19:07:39.984 +05:45 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-10 19:07:39.985 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API) in 138.111ms
2025-07-10 19:07:39.986 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 19:07:39.987 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:07:39.989 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:07:39.991 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:07:39.992 +05:45 [INF] Request finished HTTP/2 DELETE https://localhost:7201/api/Employee/DeleteEmployee/68964f98-08b6-4362-9012-5d8b32cb74bb - 204 null null 170.6202ms
2025-07-10 19:18:51.827 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 19:18:51.954 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 19:18:52.337 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 19:18:52.340 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 19:18:52.561 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:18:52.605 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 19:18:52.745 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:18:52.780 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:18:52.818 +05:45 [DBG] Created DbConnection. (36ms).
2025-07-10 19:18:52.825 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:52.962 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:52.969 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:18:52.975 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-10 19:18:52.982 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-07-10 19:18:52.989 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:18:53.045 +05:45 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:18:53.079 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:18:53.096 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.105 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 53ms reading results.
2025-07-10 19:18:53.110 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.115 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (4ms).
2025-07-10 19:18:53.121 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 19:18:53.142 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:18:53.149 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.151 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.153 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:18:53.154 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:18:53.156 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-10 19:18:53.157 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:18:53.165 +05:45 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:18:53.185 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:18:53.210 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.213 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 43ms reading results.
2025-07-10 19:18:53.216 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.219 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 19:18:53.223 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.224 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.226 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:18:53.227 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:18:53.228 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:18:53.229 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:18:53.232 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:18:53.234 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:18:53.235 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.236 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:18:53.237 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.238 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:18:53.240 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.241 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.242 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:18:53.243 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:18:53.244 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:18:53.245 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:18:53.248 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:18:53.251 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:18:53.252 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.253 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:18:53.254 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.255 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:18:53.258 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:18:53.260 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:18:53.261 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:18:53.310 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 19:18:53.358 +05:45 [DBG] Hosting starting
2025-07-10 19:18:53.365 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 19:18:53.371 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 19:18:53.374 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 19:18:53.375 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 19:18:53.377 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 19:18:53.379 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 19:18:53.380 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 19:18:53.386 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 19:18:53.391 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 19:18:53.393 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 19:18:53.395 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 19:18:53.396 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 19:18:53.397 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 19:18:53.398 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 19:18:53.404 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 19:18:53.408 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 19:18:53.410 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 19:18:53.412 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 19:18:53.416 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 19:18:53.419 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 19:18:53.423 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 19:18:53.424 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 19:18:53.428 +05:45 [DBG] Middleware loaded
2025-07-10 19:18:53.431 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 19:18:53.433 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 19:18:53.509 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 19:18:53.584 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 19:18:53.586 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 19:18:53.587 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 19:18:53.588 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 19:18:53.589 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 19:18:53.589 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 19:18:53.596 +05:45 [DBG] Connection id "0HNDVMPKSA7M0" received FIN.
2025-07-10 19:18:53.603 +05:45 [DBG] Connection id "0HNDVMPKSA7M0" accepted.
2025-07-10 19:18:53.611 +05:45 [DBG] Connection id "0HNDVMPKSA7M0" started.
2025-07-10 19:18:53.627 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 19:18:53.668 +05:45 [DBG] Connection id "0HNDVMPKSA7M0" stopped.
2025-07-10 19:18:53.679 +05:45 [DBG] Connection id "0HNDVMPKSA7M0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 19:18:53.681 +05:45 [DBG] Connection id "0HNDVMPKSA7M1" accepted.
2025-07-10 19:18:53.684 +05:45 [DBG] Connection id "0HNDVMPKSA7M1" started.
2025-07-10 19:18:53.690 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 19:18:53.691 +05:45 [INF] Hosting environment: Development
2025-07-10 19:18:53.694 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 19:18:53.702 +05:45 [DBG] Hosting started
2025-07-10 19:18:53.730 +05:45 [DBG] Connection 0HNDVMPKSA7M1 established using the following protocol: "Tls12"
2025-07-10 19:18:53.833 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 19:18:53.902 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 19:18:53.917 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 19:18:53.920 +05:45 [DBG] Request did not match any endpoints
2025-07-10 19:18:53.983 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 19:18:53.985 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 19:18:54.003 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 19:18:54.005 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 19:18:54.007 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 183.3976ms
2025-07-10 19:18:54.040 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 19:18:54.040 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 19:18:54.050 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 19:18:54.052 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 12.5344ms
2025-07-10 19:18:54.087 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.4608ms
2025-07-10 19:18:54.270 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 19:18:54.275 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 19:18:54.277 +05:45 [DBG] Request did not match any endpoints
2025-07-10 19:18:54.291 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.6066ms
2025-07-10 19:19:24.904 +05:45 [DBG] Connection id "0HNDVMPKSA7M1" received FIN.
2025-07-10 19:19:24.913 +05:45 [DBG] Connection id "0HNDVMPKSA7M1" is closed. The last processed stream ID was 7.
2025-07-10 19:19:24.913 +05:45 [DBG] The connection queue processing loop for 0HNDVMPKSA7M1 completed.
2025-07-10 19:19:24.914 +05:45 [DBG] Connection id "0HNDVMPKSA7M1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 19:19:24.918 +05:45 [DBG] Connection id "0HNDVMPKSA7M1" stopped.
2025-07-10 19:21:49.899 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 19:21:50.023 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 19:21:50.407 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 19:21:50.409 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 19:21:50.599 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:21:50.651 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 19:21:50.802 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:21:50.832 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:21:50.868 +05:45 [DBG] Created DbConnection. (33ms).
2025-07-10 19:21:50.874 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.006 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.013 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:21:51.020 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-10 19:21:51.026 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-07-10 19:21:51.033 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:21:51.091 +05:45 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:21:51.125 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:21:51.142 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.150 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 52ms reading results.
2025-07-10 19:21:51.155 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.159 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (4ms).
2025-07-10 19:21:51.165 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 19:21:51.173 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:21:51.177 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.179 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.180 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:21:51.180 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:21:51.181 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:21:51.182 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:21:51.190 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:21:51.202 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:21:51.229 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.231 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 38ms reading results.
2025-07-10 19:21:51.232 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.233 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:21:51.237 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.238 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.240 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:21:51.241 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:21:51.242 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:21:51.243 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:21:51.246 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:21:51.248 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:21:51.249 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.250 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:21:51.251 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.252 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:21:51.254 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.255 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.256 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:21:51.256 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:21:51.257 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:21:51.258 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:21:51.262 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:21:51.268 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:21:51.270 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.271 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 19:21:51.273 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.274 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:21:51.278 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:21:51.282 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:21:51.284 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:21:51.350 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 19:21:51.404 +05:45 [DBG] Hosting starting
2025-07-10 19:21:51.413 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 19:21:51.420 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 19:21:51.422 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 19:21:51.423 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 19:21:51.424 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 19:21:51.425 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 19:21:51.426 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 19:21:51.430 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 19:21:51.433 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 19:21:51.435 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 19:21:51.437 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 19:21:51.438 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 19:21:51.439 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 19:21:51.440 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 19:21:51.447 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 19:21:51.452 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 19:21:51.455 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 19:21:51.457 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 19:21:51.463 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 19:21:51.469 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 19:21:51.475 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 19:21:51.477 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 19:21:51.482 +05:45 [DBG] Middleware loaded
2025-07-10 19:21:51.484 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 19:21:51.486 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 19:21:51.554 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 19:21:51.620 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 19:21:51.622 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 19:21:51.623 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 19:21:51.624 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 19:21:51.625 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 19:21:51.626 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 19:21:51.673 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 19:21:51.674 +05:45 [INF] Hosting environment: Development
2025-07-10 19:21:51.676 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 19:21:51.677 +05:45 [DBG] Hosting started
2025-07-10 19:21:51.803 +05:45 [DBG] Connection id "0HNDVMR9VQSIS" accepted.
2025-07-10 19:21:51.806 +05:45 [DBG] Connection id "0HNDVMR9VQSIS" started.
2025-07-10 19:21:51.828 +05:45 [DBG] Connection id "0HNDVMR9VQSIS" received FIN.
2025-07-10 19:21:51.837 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 19:21:51.866 +05:45 [DBG] Connection id "0HNDVMR9VQSIS" stopped.
2025-07-10 19:21:51.870 +05:45 [DBG] Connection id "0HNDVMR9VQSIS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 19:21:51.903 +05:45 [DBG] Connection id "0HNDVMR9VQSIT" accepted.
2025-07-10 19:21:51.905 +05:45 [DBG] Connection id "0HNDVMR9VQSIT" started.
2025-07-10 19:21:51.943 +05:45 [DBG] Connection 0HNDVMR9VQSIT established using the following protocol: "Tls12"
2025-07-10 19:21:51.985 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 19:21:52.064 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 19:21:52.080 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 19:21:52.082 +05:45 [DBG] Request did not match any endpoints
2025-07-10 19:21:52.142 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 19:21:52.145 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 19:21:52.162 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 19:21:52.164 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 19:21:52.167 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 186.3713ms
2025-07-10 19:21:52.198 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 19:21:52.198 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 19:21:52.206 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 19:21:52.208 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 10.1496ms
2025-07-10 19:21:52.239 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.9768ms
2025-07-10 19:21:52.422 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 19:21:52.426 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 19:21:52.429 +05:45 [DBG] Request did not match any endpoints
2025-07-10 19:21:52.449 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.5138ms
2025-07-10 19:34:26.345 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 19:34:26.478 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 19:34:26.919 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 19:34:26.921 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 19:34:27.147 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:34:27.195 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 19:34:27.338 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:34:27.373 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:34:27.407 +05:45 [DBG] Created DbConnection. (32ms).
2025-07-10 19:34:27.415 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.571 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.575 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:34:27.581 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-07-10 19:34:27.587 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-07-10 19:34:27.594 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:34:27.648 +05:45 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:34:27.685 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:34:27.703 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.712 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 56ms reading results.
2025-07-10 19:34:27.717 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.722 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (4ms).
2025-07-10 19:34:27.729 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 19:34:27.736 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:34:27.741 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.743 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.744 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:34:27.744 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:34:27.746 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:34:27.747 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:34:27.753 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:34:27.767 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:34:27.795 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.797 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 40ms reading results.
2025-07-10 19:34:27.798 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.799 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:34:27.803 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.806 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.807 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:34:27.808 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:34:27.809 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:34:27.810 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:34:27.813 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:34:27.815 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:34:27.816 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.817 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:34:27.819 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.820 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:34:27.821 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.822 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.823 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:34:27.824 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:34:27.825 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:34:27.826 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:34:27.829 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 19:34:27.831 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:34:27.832 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.833 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:34:27.835 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.836 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:34:27.839 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:34:27.841 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:34:27.843 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:34:27.891 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 19:34:27.962 +05:45 [DBG] Hosting starting
2025-07-10 19:34:27.971 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 19:34:27.983 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 19:34:27.986 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 19:34:27.988 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 19:34:27.989 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 19:34:27.990 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 19:34:27.992 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 19:34:27.997 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 19:34:28.001 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 19:34:28.003 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 19:34:28.004 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 19:34:28.005 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 19:34:28.007 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 19:34:28.008 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 19:34:28.014 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 19:34:28.019 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 19:34:28.021 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 19:34:28.023 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 19:34:28.027 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 19:34:28.030 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 19:34:28.034 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 19:34:28.036 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 19:34:28.041 +05:45 [DBG] Middleware loaded
2025-07-10 19:34:28.043 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 19:34:28.045 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 19:34:28.118 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 19:34:28.199 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 19:34:28.201 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 19:34:28.204 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 19:34:28.205 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 19:34:28.206 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 19:34:28.208 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 19:34:28.261 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 19:34:28.262 +05:45 [INF] Hosting environment: Development
2025-07-10 19:34:28.263 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 19:34:28.265 +05:45 [DBG] Hosting started
2025-07-10 19:34:28.596 +05:45 [DBG] Connection id "0HNDVN2BH5HHR" received FIN.
2025-07-10 19:34:28.610 +05:45 [DBG] Connection id "0HNDVN2BH5HHR" accepted.
2025-07-10 19:34:28.613 +05:45 [DBG] Connection id "0HNDVN2BH5HHR" started.
2025-07-10 19:34:28.630 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 19:34:28.678 +05:45 [DBG] Connection id "0HNDVN2BH5HHR" stopped.
2025-07-10 19:34:28.682 +05:45 [DBG] Connection id "0HNDVN2BH5HHR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 19:34:28.704 +05:45 [DBG] Connection id "0HNDVN2BH5HHS" accepted.
2025-07-10 19:34:28.705 +05:45 [DBG] Connection id "0HNDVN2BH5HHS" started.
2025-07-10 19:34:28.735 +05:45 [DBG] Connection 0HNDVN2BH5HHS established using the following protocol: "Tls12"
2025-07-10 19:34:29.179 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 19:34:29.253 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 19:34:29.273 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 19:34:29.276 +05:45 [DBG] Request did not match any endpoints
2025-07-10 19:34:29.333 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 19:34:29.336 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 19:34:29.350 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 19:34:29.353 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 19:34:29.356 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 181.5663ms
2025-07-10 19:34:29.381 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 19:34:29.381 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 19:34:29.390 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 19:34:29.396 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 12.1685ms
2025-07-10 19:34:29.427 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.2811ms
2025-07-10 19:34:29.563 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 19:34:29.567 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 19:34:29.568 +05:45 [DBG] Request did not match any endpoints
2025-07-10 19:34:29.591 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.4674ms
2025-07-10 19:41:49.776 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 60
2025-07-10 19:41:49.790 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 19:41:49.792 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 19:41:49.794 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:41:49.797 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:41:49.800 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:41:49.801 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:41:49.866 +05:45 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-10 19:41:49.870 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:41:49.886 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 19:41:49.890 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:41:49.891 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:41:49.893 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:41:49.894 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:41:49.896 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:41:49.899 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:41:49.902 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:41:49.913 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:41:49.917 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 19:41:49.919 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:41:49.929 +05:45 [DBG] Connection id "0HNDVN2BH5HHS", Request id "0HNDVN2BH5HHS:00000009": started reading request body.
2025-07-10 19:41:49.932 +05:45 [DBG] Connection id "0HNDVN2BH5HHS", Request id "0HNDVN2BH5HHS:00000009": done reading request body.
2025-07-10 19:41:49.936 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 19:41:49.939 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:41:49.940 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:41:49.941 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:41:49.948 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:41:52.541 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:41:52.546 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:41:52.548 +05:45 [DBG] Created DbConnection. (2ms).
2025-07-10 19:41:52.549 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.713 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.715 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:41:52.716 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:41:52.717 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:41:52.718 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:41:52.725 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:41:52.728 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:41:52.729 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.730 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:41:52.731 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.732 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:41:52.825 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-10 19:41:52.873 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 19:41:52.878 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.879 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.881 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:41:52.881 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:41:52.883 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:41:52.884 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:41:52.890 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:41:52.893 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.895 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:41:52.897 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.899 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:41:52.931 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:41:52.936 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:41:52.937 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:41:52.939 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:41:52.940 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 19:41:52.942 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 19:41:52.950 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 3049.1234ms
2025-07-10 19:41:52.952 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:41:52.955 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:41:52.959 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:41:52.961 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 19:41:52.963 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 3186.8591ms
2025-07-10 19:46:05.873 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/TenantUser/addEdit - application/json 112
2025-07-10 19:46:05.882 +05:45 [DBG] 1 candidate(s) found for the request path '/api/TenantUser/addEdit'
2025-07-10 19:46:05.884 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)' with route pattern 'api/TenantUser/addEdit' is valid for the request path '/api/TenantUser/addEdit'
2025-07-10 19:46:05.886 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 19:46:05.887 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:46:05.888 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:46:05.889 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:46:05.923 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:46:05.926 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:46:05.931 +05:45 [DBG] Authorization was successful.
2025-07-10 19:46:05.933 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 19:46:05.938 +05:45 [INF] Route matched with {action = "AddOrUpdateTenantAdmin", controller = "TenantUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdateTenantAdmin(MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand) on controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API).
2025-07-10 19:46:05.942 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:46:05.943 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:46:05.944 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:46:05.946 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:46:05.947 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:46:05.948 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API)
2025-07-10 19:46:05.952 +05:45 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-10 19:46:05.953 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API)
2025-07-10 19:46:05.955 +05:45 [DBG] Attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' ...
2025-07-10 19:46:05.956 +05:45 [DBG] Attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' using the name '' in request data ...
2025-07-10 19:46:05.957 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:46:05.961 +05:45 [DBG] Connection id "0HNDVN2BH5HHS", Request id "0HNDVN2BH5HHS:0000000B": started reading request body.
2025-07-10 19:46:05.964 +05:45 [DBG] Connection id "0HNDVN2BH5HHS", Request id "0HNDVN2BH5HHS:0000000B": done reading request body.
2025-07-10 19:46:05.969 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'
2025-07-10 19:46:05.970 +05:45 [DBG] Done attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 19:46:05.972 +05:45 [DBG] Done attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 19:46:05.974 +05:45 [DBG] Attempting to validate the bound parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' ...
2025-07-10 19:46:05.977 +05:45 [DBG] Done attempting to validate the bound parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 19:46:05.995 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:46:05.999 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2025-07-10 19:46:06.004 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:46:06.007 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:46:06.008 +05:45 [DBG] Created DbConnection. (1ms).
2025-07-10 19:46:06.009 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.010 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.011 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:46:06.012 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:46:06.013 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:46:06.014 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 19:46:06.017 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 19:46:06.023 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:46:06.026 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.027 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 19:46:06.028 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.029 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:46:06.033 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<User>(), 
        outerKeySelector: userrole => userrole.UserId, 
        innerKeySelector: user => user.Id, 
        resultSelector: (userrole, user) => new { 
            userrole = userrole, 
            user = user
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userrole.RoleId.Equals(__role_Id_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.user)'
2025-07-10 19:46:06.040 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
        SELECT a0.Id, a0.AccessFailedCount, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.SecurityStamp, a0.TenantId, a0.TwoFactorEnabled, a0.UserName
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetUsers AS a0 ON a.UserId == a0.Id
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 19:46:06.044 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.045 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.046 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:46:06.047 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:46:06.048 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:46:06.049 +05:45 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TenantId", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-07-10 19:46:06.052 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TenantId", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-07-10 19:46:06.056 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:46:06.057 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:46:06.058 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.059 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 19:46:06.060 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.061 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:46:06.156 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-07-10 19:46:06.162 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 19:46:06.166 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.167 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.168 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:46:06.170 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:46:06.171 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:46:06.172 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 19:46:06.175 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 19:46:06.177 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.178 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 19:46:06.180 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.181 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:46:06.223 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:46:06.229 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 19:46:06.234 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 19:46:06.264 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 19:46:06.318 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.321 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.323 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:46:06.323 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:46:06.325 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:46:06.326 +05:45 [DBG] Executing DbCommand [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p16='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TenantId" = @p12, "TwoFactorEnabled" = @p13, "UserName" = @p14
WHERE "Id" = @p15 AND "ConcurrencyStamp" = @p16;
2025-07-10 19:46:06.336 +05:45 [INF] Executed DbCommand (10ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p16='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TenantId" = @p12, "TwoFactorEnabled" = @p13, "UserName" = @p14
WHERE "Id" = @p15 AND "ConcurrencyStamp" = @p16;
2025-07-10 19:46:06.342 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.345 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 5ms reading results.
2025-07-10 19:46:06.347 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.348 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:46:06.352 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:46:06.355 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 19:46:06.358 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.360 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.361 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:46:06.361 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:46:06.362 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:46:06.364 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 19:46:06.366 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 19:46:06.373 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.375 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 19:46:06.376 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.377 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:46:06.378 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:46:06.379 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 19:46:06.380 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 19:46:06.381 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 19:46:06.384 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.385 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.386 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:46:06.387 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:46:06.389 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:46:06.391 +05:45 [DBG] Executing DbCommand [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p16='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TenantId" = @p12, "TwoFactorEnabled" = @p13, "UserName" = @p14
WHERE "Id" = @p15 AND "ConcurrencyStamp" = @p16;
2025-07-10 19:46:06.395 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@p15='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?', @p16='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Boolean), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NormalizedEmail" = @p6, "NormalizedUserName" = @p7, "PasswordHash" = @p8, "PhoneNumber" = @p9, "PhoneNumberConfirmed" = @p10, "SecurityStamp" = @p11, "TenantId" = @p12, "TwoFactorEnabled" = @p13, "UserName" = @p14
WHERE "Id" = @p15 AND "ConcurrencyStamp" = @p16;
2025-07-10 19:46:06.397 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.398 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 19:46:06.399 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.400 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:46:06.402 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:46:06.404 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 19:46:06.406 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:46:06.408 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:46:06.408 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:46:06.409 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:46:06.410 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 19:46:06.411 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2025-07-10 19:46:06.415 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API) in 466.8344ms
2025-07-10 19:46:06.417 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 19:46:06.419 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:46:06.421 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:46:06.422 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:46:06.423 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/TenantUser/addEdit - 200 null application/json; charset=utf-8 550.2735ms
2025-07-10 19:49:24.919 +05:45 [DBG] Connection id "0HNDVN2BH5HHS" received FIN.
2025-07-10 19:49:24.942 +05:45 [DBG] Connection id "0HNDVN2BH5HHS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 19:49:24.948 +05:45 [DBG] Connection id "0HNDVN2BH5HHS" is closed. The last processed stream ID was 11.
2025-07-10 19:49:24.953 +05:45 [DBG] The connection queue processing loop for 0HNDVN2BH5HHS completed.
2025-07-10 19:49:24.955 +05:45 [DBG] Connection id "0HNDVN2BH5HHS" stopped.
2025-07-10 19:50:57.700 +05:45 [DBG] Connection id "0HNDVN2BH5HHT" accepted.
2025-07-10 19:50:57.708 +05:45 [DBG] Connection id "0HNDVN2BH5HHT" started.
2025-07-10 19:50:57.715 +05:45 [DBG] Connection 0HNDVN2BH5HHT established using the following protocol: "Tls12"
2025-07-10 19:50:57.719 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 112
2025-07-10 19:50:57.722 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 19:50:57.724 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 19:50:57.725 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:50:57.726 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:50:57.727 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:50:57.728 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:50:57.731 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:50:57.733 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:50:57.734 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:50:57.734 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 19:50:57.736 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:50:57.737 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:50:57.738 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:50:57.740 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:50:57.741 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:50:57.743 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:50:57.749 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:50:57.752 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:50:57.753 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 19:50:57.754 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:50:57.755 +05:45 [DBG] Connection id "0HNDVN2BH5HHT", Request id "0HNDVN2BH5HHT:00000001": started reading request body.
2025-07-10 19:50:57.757 +05:45 [DBG] Connection id "0HNDVN2BH5HHT", Request id "0HNDVN2BH5HHT:00000001": done reading request body.
2025-07-10 19:50:57.759 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 19:50:57.760 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:50:57.761 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:50:57.762 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:50:57.764 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:50:59.392 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:50:59.396 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:50:59.396 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 19:50:59.398 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.435 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.437 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:50:59.438 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:50:59.439 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:50:59.440 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:50:59.445 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:50:59.449 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:50:59.450 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.451 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:50:59.453 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.454 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:50:59.528 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.533 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.534 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:50:59.535 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:50:59.536 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:50:59.537 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:50:59.542 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:50:59.544 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.546 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:50:59.549 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.550 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:50:59.552 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:50:59.555 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:50:59.555 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:50:59.570 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:50:59.570 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 19:50:59.571 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 19:50:59.573 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 1830.043ms
2025-07-10 19:50:59.574 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:50:59.575 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:50:59.576 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:50:59.577 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:50:59.579 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 1860.1971ms
2025-07-10 19:52:46.974 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 56
2025-07-10 19:52:46.983 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 19:52:46.984 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 19:52:46.985 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:52:46.986 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:52:46.987 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:52:46.988 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:52:46.989 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:52:46.990 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:52:46.991 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:52:46.992 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 19:52:46.993 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:52:46.994 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:52:46.995 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:52:46.997 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:52:46.998 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:52:46.999 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:52:47.001 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:52:47.003 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:52:47.005 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 19:52:47.007 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:52:47.010 +05:45 [DBG] Connection id "0HNDVN2BH5HHT", Request id "0HNDVN2BH5HHT:00000003": started reading request body.
2025-07-10 19:52:47.016 +05:45 [DBG] Connection id "0HNDVN2BH5HHT", Request id "0HNDVN2BH5HHT:00000003": done reading request body.
2025-07-10 19:52:47.019 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 19:52:47.020 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:52:47.021 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:52:47.024 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:52:47.025 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:52:52.961 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:52:52.964 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:52:52.965 +05:45 [DBG] Created DbConnection. (1ms).
2025-07-10 19:52:52.966 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:52:52.967 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:52:52.968 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:52:52.969 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:52:52.971 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:52:52.972 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:52:52.976 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:52:52.982 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:52:52.983 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 19:52:52.985 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:52:52.986 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:52:52.988 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:52:52.990 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:52:52.991 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:52:52.992 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:52:52.993 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-07-10 19:52:52.994 +05:45 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-07-10 19:52:52.995 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 5995.3103ms
2025-07-10 19:52:52.997 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:52:52.997 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:52:52.998 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:52:52.999 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:52:53.001 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 401 null text/plain; charset=utf-8 6027.8799ms
2025-07-10 19:53:02.566 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 60
2025-07-10 19:53:02.570 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 19:53:02.571 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 19:53:02.572 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:53:02.573 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:53:02.574 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:53:02.575 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:53:02.577 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:53:02.577 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:53:02.578 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:53:02.579 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 19:53:02.580 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:53:02.582 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:53:02.583 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:53:02.585 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:53:02.586 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:53:02.588 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:53:02.589 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 19:53:02.591 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:53:02.592 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 19:53:02.593 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 19:53:02.594 +05:45 [DBG] Connection id "0HNDVN2BH5HHT", Request id "0HNDVN2BH5HHT:00000005": started reading request body.
2025-07-10 19:53:02.595 +05:45 [DBG] Connection id "0HNDVN2BH5HHT", Request id "0HNDVN2BH5HHT:00000005": done reading request body.
2025-07-10 19:53:02.596 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 19:53:02.597 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:53:02.598 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:53:02.599 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 19:53:02.600 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 19:53:03.990 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:53:03.995 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:53:03.995 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 19:53:03.997 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:03.998 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:03.999 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:53:04.000 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:53:04.001 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:53:04.003 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:53:04.007 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 19:53:04.013 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:53:04.014 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:04.015 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 19:53:04.016 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:04.017 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:53:04.092 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:04.094 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:04.096 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:53:04.096 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:53:04.097 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:53:04.098 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:53:04.102 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 19:53:04.104 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:04.105 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 19:53:04.106 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:04.107 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:53:04.108 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:53:04.110 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:53:04.111 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:53:04.112 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:53:04.112 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 19:53:04.113 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 19:53:04.115 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 1526.8741ms
2025-07-10 19:53:04.116 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 19:53:04.117 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:53:04.118 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:04.120 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:53:04.121 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 1554.9251ms
2025-07-10 19:53:23.463 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/api/Tenant/GetAllTenant - null null
2025-07-10 19:53:23.466 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Tenant/GetAllTenant'
2025-07-10 19:53:23.468 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)' with route pattern 'api/Tenant/GetAllTenant' is valid for the request path '/api/Tenant/GetAllTenant'
2025-07-10 19:53:23.470 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 19:53:23.471 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:53:23.471 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:53:23.472 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:53:23.475 +05:45 [DBG] Authorization was successful.
2025-07-10 19:53:23.476 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 19:53:23.480 +05:45 [INF] Route matched with {action = "GetAll", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API).
2025-07-10 19:53:23.482 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:53:23.484 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:53:23.485 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:53:23.487 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:53:23.488 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:53:23.489 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 19:53:23.490 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 19:53:23.494 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:53:23.500 +05:45 [DBG] Compiling query expression: 
'DbSet<Tenant>()'
2025-07-10 19:53:23.505 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Tenant>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Name (string) Required, 1] }
        SELECT t.Id, t.Name
        FROM Tenants AS t), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tenant>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 19:53:23.507 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:53:23.509 +05:45 [DBG] Created DbConnection. (1ms).
2025-07-10 19:53:23.510 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:23.511 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:23.513 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:53:23.514 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:53:23.515 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:53:23.516 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tenants" AS t
2025-07-10 19:53:23.520 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tenants" AS t
2025-07-10 19:53:23.524 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:53:23.527 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:53:23.531 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:23.532 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 10ms reading results.
2025-07-10 19:53:23.533 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:23.535 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:53:23.537 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:53:23.539 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:53:23.540 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:53:23.541 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:53:23.541 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 19:53:23.543 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MultiTenantSystem.Core.Entities.Tenant, MultiTenantSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-10 19:53:23.551 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API) in 62.4649ms
2025-07-10 19:53:23.553 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 19:53:23.554 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:53:23.555 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:53:23.556 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:53:23.558 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/api/Tenant/GetAllTenant - 200 null application/json; charset=utf-8 94.496ms
2025-07-10 19:56:37.064 +05:45 [INF] Request starting HTTP/2 DELETE https://localhost:7201/api/TenantUser/delete?tenantId=b4f4c577-501c-4778-b097-b91bdbf110ab - null null
2025-07-10 19:56:37.072 +05:45 [DBG] 1 candidate(s) found for the request path '/api/TenantUser/delete'
2025-07-10 19:56:37.073 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.DeleteTenantAdmin (MultiTenantSystem.API)' with route pattern 'api/TenantUser/delete' is valid for the request path '/api/TenantUser/delete'
2025-07-10 19:56:37.075 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.DeleteTenantAdmin (MultiTenantSystem.API)'
2025-07-10 19:56:37.076 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 19:56:37.076 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 19:56:37.077 +05:45 [INF] CORS policy execution successful.
2025-07-10 19:56:37.078 +05:45 [DBG] Successfully validated the token.
2025-07-10 19:56:37.079 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 19:56:37.080 +05:45 [DBG] Authorization was successful.
2025-07-10 19:56:37.081 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.DeleteTenantAdmin (MultiTenantSystem.API)'
2025-07-10 19:56:37.085 +05:45 [INF] Route matched with {action = "DeleteTenantAdmin", controller = "TenantUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTenantAdmin(System.Guid) on controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API).
2025-07-10 19:56:37.088 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 19:56:37.089 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 19:56:37.090 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 19:56:37.091 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 19:56:37.092 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 19:56:37.094 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API)
2025-07-10 19:56:37.095 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API)
2025-07-10 19:56:37.102 +05:45 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' ...
2025-07-10 19:56:37.104 +05:45 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name 'tenantId' in request data ...
2025-07-10 19:56:37.106 +05:45 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2025-07-10 19:56:37.107 +05:45 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2025-07-10 19:56:37.108 +05:45 [DBG] Attempting to validate the bound parameter 'tenantId' of type 'System.Guid' ...
2025-07-10 19:56:37.112 +05:45 [DBG] Done attempting to validate the bound parameter 'tenantId' of type 'System.Guid'.
2025-07-10 19:56:37.117 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 19:56:37.119 +05:45 [DBG] Creating DbConnection.
2025-07-10 19:56:37.119 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 19:56:37.120 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.154 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.156 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:56:37.156 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:56:37.157 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:56:37.158 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 19:56:37.162 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 19:56:37.164 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:56:37.165 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.168 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 19:56:37.169 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.170 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:56:37.172 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.173 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.174 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:56:37.175 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 19:56:37.176 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:56:37.177 +05:45 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TenantId", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-07-10 19:56:37.182 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TenantId", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-07-10 19:56:37.185 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:56:37.186 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:56:37.187 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.189 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 19:56:37.191 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.193 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:56:37.197 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:56:37.201 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 19:56:37.203 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 19:56:37.205 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 19:56:37.213 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.215 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.217 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 19:56:37.219 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 19:56:37.220 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 19:56:37.221 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "AspNetUsers"
WHERE "Id" = @p0 AND "ConcurrencyStamp" = @p1;
2025-07-10 19:56:37.228 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "AspNetUsers"
WHERE "Id" = @p0 AND "ConcurrencyStamp" = @p1;
2025-07-10 19:56:37.230 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.231 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 19:56:37.233 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.235 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 19:56:37.239 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 19:56:37.241 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 19:56:37.243 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 19:56:37.244 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 19:56:37.245 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 19:56:37.246 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 19:56:37.246 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-07-10 19:56:37.247 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-10 19:56:37.249 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantUserController.DeleteTenantAdmin (MultiTenantSystem.API) in 154.7623ms
2025-07-10 19:56:37.252 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.DeleteTenantAdmin (MultiTenantSystem.API)'
2025-07-10 19:56:37.253 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 19:56:37.255 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 19:56:37.256 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 19:56:37.257 +05:45 [INF] Request finished HTTP/2 DELETE https://localhost:7201/api/TenantUser/delete?tenantId=b4f4c577-501c-4778-b097-b91bdbf110ab - 200 null text/plain; charset=utf-8 193.5299ms
2025-07-10 20:18:50.547 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 20:18:50.675 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 20:18:51.066 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 20:18:51.069 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 20:18:51.282 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:18:51.328 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 20:18:51.473 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:18:51.504 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:18:51.540 +05:45 [DBG] Created DbConnection. (34ms).
2025-07-10 20:18:51.546 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.688 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.693 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:18:51.699 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-10 20:18:51.705 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-07-10 20:18:51.713 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:18:51.770 +05:45 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:18:51.803 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:18:51.819 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.827 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 50ms reading results.
2025-07-10 20:18:51.832 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.837 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (4ms).
2025-07-10 20:18:51.843 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 20:18:51.851 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:18:51.856 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.857 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.858 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:18:51.859 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:18:51.860 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:18:51.861 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:18:51.867 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:18:51.880 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:18:51.907 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.909 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 39ms reading results.
2025-07-10 20:18:51.911 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.912 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:18:51.915 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.917 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.918 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:18:51.918 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:18:51.919 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:18:51.920 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:18:51.923 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:18:51.926 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:18:51.927 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.928 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:18:51.929 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.930 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:18:51.932 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.933 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.934 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:18:51.934 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:18:51.935 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:18:51.937 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:18:51.939 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:18:51.941 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:18:51.942 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.943 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:18:51.945 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.946 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:18:51.948 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:18:51.951 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:18:51.952 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:18:52.002 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 20:18:52.052 +05:45 [DBG] Hosting starting
2025-07-10 20:18:52.060 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 20:18:52.067 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 20:18:52.070 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 20:18:52.071 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 20:18:52.072 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 20:18:52.073 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 20:18:52.074 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 20:18:52.078 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 20:18:52.082 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 20:18:52.084 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 20:18:52.085 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 20:18:52.086 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 20:18:52.086 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 20:18:52.087 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 20:18:52.092 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 20:18:52.097 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:18:52.099 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 20:18:52.100 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:18:52.103 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 20:18:52.106 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 20:18:52.112 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 20:18:52.116 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 20:18:52.122 +05:45 [DBG] Middleware loaded
2025-07-10 20:18:52.124 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 20:18:52.127 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 20:18:52.198 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 20:18:52.277 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 20:18:52.280 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 20:18:52.281 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 20:18:52.283 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 20:18:52.284 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 20:18:52.285 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 20:18:52.333 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 20:18:52.334 +05:45 [INF] Hosting environment: Development
2025-07-10 20:18:52.336 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 20:18:52.337 +05:45 [DBG] Hosting started
2025-07-10 20:18:52.380 +05:45 [DBG] Connection id "0HNDVNR5D01MK" received FIN.
2025-07-10 20:18:52.387 +05:45 [DBG] Connection id "0HNDVNR5D01MK" accepted.
2025-07-10 20:18:52.390 +05:45 [DBG] Connection id "0HNDVNR5D01MK" started.
2025-07-10 20:18:52.403 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 20:18:52.479 +05:45 [DBG] Connection id "0HNDVNR5D01ML" accepted.
2025-07-10 20:18:52.483 +05:45 [DBG] Connection id "0HNDVNR5D01ML" started.
2025-07-10 20:18:52.486 +05:45 [DBG] Connection id "0HNDVNR5D01MK" stopped.
2025-07-10 20:18:52.490 +05:45 [DBG] Connection id "0HNDVNR5D01MK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:18:52.518 +05:45 [DBG] Connection 0HNDVNR5D01ML established using the following protocol: "Tls12"
2025-07-10 20:18:52.561 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 20:18:52.641 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 20:18:52.658 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 20:18:52.661 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:18:52.707 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 20:18:52.710 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 20:18:52.728 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 20:18:52.731 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 20:18:52.734 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 179.8542ms
2025-07-10 20:18:52.762 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 20:18:52.762 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 20:18:52.785 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 20:18:52.791 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 28.5922ms
2025-07-10 20:18:52.816 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0782ms
2025-07-10 20:18:52.954 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 20:18:52.957 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 20:18:52.958 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:18:52.976 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.7531ms
2025-07-10 20:19:24.908 +05:45 [DBG] Connection id "0HNDVNR5D01ML" received FIN.
2025-07-10 20:19:24.919 +05:45 [DBG] Connection id "0HNDVNR5D01ML" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:19:24.922 +05:45 [DBG] Connection id "0HNDVNR5D01ML" is closed. The last processed stream ID was 7.
2025-07-10 20:19:24.925 +05:45 [DBG] The connection queue processing loop for 0HNDVNR5D01ML completed.
2025-07-10 20:19:24.928 +05:45 [DBG] Connection id "0HNDVNR5D01ML" stopped.
2025-07-10 20:25:26.374 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 20:25:26.717 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 20:25:26.721 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 20:25:26.883 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:25:26.903 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:25:26.924 +05:45 [DBG] Created DbConnection. (19ms).
2025-07-10 20:25:26.929 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:26.935 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.111 +05:45 [DBG] An error occurred using the connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.115 +05:45 [DBG] Migrating using database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.118 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.120 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.151 +05:45 [DBG] An error occurred using the connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.153 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.155 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.186 +05:45 [DBG] An error occurred using the connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.202 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 20:25:27.204 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 20:25:27.223 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:25:27.225 +05:45 [DBG] Created DbConnection. (1ms).
2025-07-10 20:25:27.226 +05:45 [DBG] Opening connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.319 +05:45 [DBG] Opened connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-07-10 20:25:27.325 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:27.332 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-07-10 20:25:27.335 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2025-07-10 20:25:27.342 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MultiTenantDb";
2025-07-10 20:25:28.336 +05:45 [INF] Executed DbCommand (993ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "MultiTenantDb";
2025-07-10 20:25:28.340 +05:45 [DBG] Closing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.348 +05:45 [DBG] Closed connection to database 'postgres' on server 'tcp://localhost:5432' (5ms).
2025-07-10 20:25:28.351 +05:45 [DBG] Disposing connection to database 'postgres' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.354 +05:45 [DBG] Disposed connection to database 'postgres' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:25:28.356 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.359 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.428 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.430 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.433 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:25:28.479 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.481 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.483 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-07-10 20:25:28.485 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.536 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.539 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-10 20:25:28.571 +05:45 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-07-10 20:25:28.574 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.577 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (3ms).
2025-07-10 20:25:28.580 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.582 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.614 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.616 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.618 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:28.623 +05:45 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-10 20:25:28.624 +05:45 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-07-10 20:25:28.626 +05:45 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-07-10 20:25:28.628 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.630 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.632 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-07-10 20:25:28.660 +05:45 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-07-10 20:25:28.663 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.665 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:25:28.668 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.669 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.670 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:28.671 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:28.672 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:25:28.674 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-10 20:25:28.677 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-10 20:25:28.680 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.682 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:25:28.684 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.686 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:28.695 +05:45 [INF] Applying migration '20250708162343_InitialCreate'.
2025-07-10 20:25:28.731 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.733 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:28.736 +05:45 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-10 20:25:28.740 +05:45 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-10 20:25:28.742 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.744 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.746 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-10 20:25:28.748 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" uuid NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-07-10 20:25:28.757 +05:45 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" uuid NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2025-07-10 20:25:28.760 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.761 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.763 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.765 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tenants" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    CONSTRAINT "PK_Tenants" PRIMARY KEY ("Id")
);
2025-07-10 20:25:28.772 +05:45 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tenants" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    CONSTRAINT "PK_Tenants" PRIMARY KEY ("Id")
);
2025-07-10 20:25:28.775 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.776 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.778 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.780 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.793 +05:45 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.795 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.797 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.799 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-10 20:25:28.801 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" uuid NOT NULL,
    "TenantId" uuid,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUsers_Tenants_TenantId" FOREIGN KEY ("TenantId") REFERENCES "Tenants" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.809 +05:45 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" uuid NOT NULL,
    "TenantId" uuid,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUsers_Tenants_TenantId" FOREIGN KEY ("TenantId") REFERENCES "Tenants" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.811 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.813 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.814 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.816 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.829 +05:45 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" uuid NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.836 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.839 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-10 20:25:28.843 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-07-10 20:25:28.846 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.857 +05:45 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.866 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.870 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-10 20:25:28.873 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-07-10 20:25:28.877 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" uuid NOT NULL,
    "RoleId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.886 +05:45 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" uuid NOT NULL,
    "RoleId" uuid NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.890 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.892 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.894 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-07-10 20:25:28.896 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" uuid NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.904 +05:45 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" uuid NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2025-07-10 20:25:28.907 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.908 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.909 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.911 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-07-10 20:25:28.915 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2025-07-10 20:25:28.918 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.919 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.921 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.922 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-07-10 20:25:28.927 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2025-07-10 20:25:28.929 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.930 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.932 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.933 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-07-10 20:25:28.938 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2025-07-10 20:25:28.940 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.941 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.943 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.944 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-07-10 20:25:28.949 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2025-07-10 20:25:28.951 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.952 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.954 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.956 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-07-10 20:25:28.960 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2025-07-10 20:25:28.962 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.964 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.965 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-10 20:25:28.967 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-07-10 20:25:28.971 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2025-07-10 20:25:28.974 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.975 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.977 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.979 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUsers_TenantId" ON "AspNetUsers" ("TenantId");
2025-07-10 20:25:28.983 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUsers_TenantId" ON "AspNetUsers" ("TenantId");
2025-07-10 20:25:28.985 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.986 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:28.988 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:28.990 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-07-10 20:25:28.994 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2025-07-10 20:25:28.996 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:28.998 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:29.000 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-10 20:25:29.002 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250708162343_InitialCreate', '8.0.17');
2025-07-10 20:25:29.006 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250708162343_InitialCreate', '8.0.17');
2025-07-10 20:25:29.009 +05:45 [DBG] Committing transaction.
2025-07-10 20:25:29.012 +05:45 [DBG] Committed transaction.
2025-07-10 20:25:29.015 +05:45 [DBG] Disposing transaction.
2025-07-10 20:25:29.016 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:29.018 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:25:29.020 +05:45 [INF] Applying migration '20250709155719_EmployeeTbl'.
2025-07-10 20:25:29.034 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:29.035 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:29.037 +05:45 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-10 20:25:29.039 +05:45 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-10 20:25:29.040 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:29.041 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:29.043 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-10 20:25:29.045 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Employees" (
    "Id" uuid NOT NULL,
    "TenantId" uuid NOT NULL,
    "FullName" text NOT NULL,
    "Email" text NOT NULL,
    "Position" text NOT NULL,
    "Address" text NOT NULL,
    "ContactNo" text NOT NULL,
    CONSTRAINT "PK_Employees" PRIMARY KEY ("Id")
);
2025-07-10 20:25:29.053 +05:45 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Employees" (
    "Id" uuid NOT NULL,
    "TenantId" uuid NOT NULL,
    "FullName" text NOT NULL,
    "Email" text NOT NULL,
    "Position" text NOT NULL,
    "Address" text NOT NULL,
    "ContactNo" text NOT NULL,
    CONSTRAINT "PK_Employees" PRIMARY KEY ("Id")
);
2025-07-10 20:25:29.055 +05:45 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-10 20:25:29.057 +05:45 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-10 20:25:29.058 +05:45 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-10 20:25:29.060 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250709155719_EmployeeTbl', '8.0.17');
2025-07-10 20:25:29.063 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250709155719_EmployeeTbl', '8.0.17');
2025-07-10 20:25:29.065 +05:45 [DBG] Committing transaction.
2025-07-10 20:25:29.067 +05:45 [DBG] Committed transaction.
2025-07-10 20:25:29.069 +05:45 [DBG] Disposing transaction.
2025-07-10 20:25:29.070 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:29.072 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:29.078 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:25:29.080 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:29.082 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:57.483 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 20:25:57.617 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 20:25:58.120 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 20:25:58.121 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 20:25:58.343 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:25:58.388 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 20:25:58.557 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:25:58.592 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:25:58.627 +05:45 [DBG] Created DbConnection. (33ms).
2025-07-10 20:25:58.633 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:58.763 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:58.768 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:58.774 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-07-10 20:25:58.781 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-07-10 20:25:58.788 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:58.850 +05:45 [INF] Executed DbCommand (62ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:58.859 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:58.867 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2025-07-10 20:25:58.873 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:58.880 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (6ms).
2025-07-10 20:25:58.889 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:58.891 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:58.892 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:58.893 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:58.894 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:25:58.895 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:58.902 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:58.904 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:58.905 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:58.907 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:58.908 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:58.934 +05:45 [DBG] 'ApplicationDbContext' generated a value for the property 'IdentityRole.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:58.972 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:58.977 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:58.982 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:58.990 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:25:59.049 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.052 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.054 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.055 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.056 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.057 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-07-10 20:25:59.064 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-07-10 20:25:59.069 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.070 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 20:25:59.072 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.073 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.080 +05:45 [DBG] An entity of type 'IdentityRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.084 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:25:59.090 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 20:25:59.098 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:25:59.102 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.103 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.104 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.105 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.106 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.107 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:25:59.113 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:25:59.115 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.116 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.117 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.119 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.224 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-07-10 20:25:59.231 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:25:59.235 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.236 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.237 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.237 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.238 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.240 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:25:59.242 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:25:59.246 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.247 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.248 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.250 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.262 +05:45 [DBG] 'ApplicationDbContext' generated a value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.295 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.298 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:59.299 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:59.310 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:25:59.314 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.315 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.316 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.317 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.318 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.319 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TenantId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-10 20:25:59.329 +05:45 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TenantId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-10 20:25:59.332 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.333 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.335 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.337 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:25:59.339 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.341 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:25:59.348 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2025-07-10 20:25:59.352 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:25:59.354 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.355 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.356 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.357 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.358 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.359 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:25:59.362 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:25:59.369 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.372 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-07-10 20:25:59.373 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.374 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.385 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_1))'
2025-07-10 20:25:59.413 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__get_Item_0) && (a.RoleId == @__get_Item_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:25:59.419 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.420 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.422 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.422 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.424 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:25:59.425 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__get_Item_0 AND a."RoleId" = @__get_Item_1
LIMIT 1
2025-07-10 20:25:59.429 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__get_Item_0 AND a."RoleId" = @__get_Item_1
LIMIT 1
2025-07-10 20:25:59.432 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.433 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.434 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.435 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.439 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.440 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.441 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.442 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.443 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:25:59.445 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:25:59.447 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:25:59.450 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.451 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.452 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.453 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.466 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.469 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.470 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.472 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.473 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.474 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:25:59.475 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:25:59.478 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:25:59.481 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.482 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.484 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.485 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.490 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.491 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:59.492 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:59.493 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:25:59.506 +05:45 [DBG] Executing 2 update commands as a batch.
2025-07-10 20:25:59.509 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.511 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.514 +05:45 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-10 20:25:59.518 +05:45 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-10 20:25:59.519 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.520 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.522 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:25:59.523 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TenantId" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-07-10 20:25:59.527 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TenantId" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-07-10 20:25:59.530 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.531 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.535 +05:45 [DBG] Committing transaction.
2025-07-10 20:25:59.539 +05:45 [DBG] Committed transaction.
2025-07-10 20:25:59.542 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.545 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:25:59.548 +05:45 [DBG] Disposing transaction.
2025-07-10 20:25:59.549 +05:45 [DBG] An entity of type 'IdentityUserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.551 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.553 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-07-10 20:25:59.556 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.557 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.558 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.559 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.560 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:25:59.561 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:59.564 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:59.566 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.567 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.568 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.569 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.571 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.572 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.573 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.574 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.576 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-10 20:25:59.577 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:59.579 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:59.581 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.582 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.583 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.585 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.586 +05:45 [DBG] 'ApplicationDbContext' generated a value for the property 'IdentityRole.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.589 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.591 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:59.591 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:59.592 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:25:59.593 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.594 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.595 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.596 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.597 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.598 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-07-10 20:25:59.601 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-07-10 20:25:59.604 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.605 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.606 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.607 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.609 +05:45 [DBG] An entity of type 'IdentityRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.610 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:25:59.611 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.612 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.613 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.614 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.615 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.616 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:59.619 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:59.621 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.622 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.623 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.624 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.626 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.627 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.628 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.628 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.630 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.631 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:59.633 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:25:59.635 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.636 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.638 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.639 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:25:59.640 +05:45 [DBG] 'ApplicationDbContext' generated a value for the property 'IdentityRole.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.641 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.643 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:59.643 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:25:59.644 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:25:59.645 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.646 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.647 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:25:59.648 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:25:59.649 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:25:59.650 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-07-10 20:25:59.653 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2025-07-10 20:25:59.656 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.657 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:25:59.658 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.659 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:25:59.660 +05:45 [DBG] An entity of type 'IdentityRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:25:59.662 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:25:59.664 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:25:59.666 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:25:59.668 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:25:59.724 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 20:25:59.798 +05:45 [DBG] Hosting starting
2025-07-10 20:25:59.806 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 20:25:59.813 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 20:25:59.815 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 20:25:59.816 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 20:25:59.817 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 20:25:59.819 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 20:25:59.820 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 20:25:59.823 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 20:25:59.830 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 20:25:59.831 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 20:25:59.832 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 20:25:59.833 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 20:25:59.834 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 20:25:59.835 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 20:25:59.840 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 20:25:59.845 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:25:59.847 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 20:25:59.849 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:25:59.854 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 20:25:59.857 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 20:25:59.860 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 20:25:59.862 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 20:25:59.867 +05:45 [DBG] Middleware loaded
2025-07-10 20:25:59.870 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 20:25:59.872 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 20:25:59.946 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 20:26:00.044 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 20:26:00.046 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 20:26:00.047 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 20:26:00.047 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 20:26:00.048 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 20:26:00.049 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 20:26:00.098 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 20:26:00.099 +05:45 [INF] Hosting environment: Development
2025-07-10 20:26:00.100 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 20:26:00.101 +05:45 [DBG] Hosting started
2025-07-10 20:26:00.459 +05:45 [DBG] Connection id "0HNDVNV4VF92D" received FIN.
2025-07-10 20:26:00.465 +05:45 [DBG] Connection id "0HNDVNV4VF92D" accepted.
2025-07-10 20:26:00.467 +05:45 [DBG] Connection id "0HNDVNV4VF92D" started.
2025-07-10 20:26:00.481 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 20:26:00.511 +05:45 [DBG] Connection id "0HNDVNV4VF92D" stopped.
2025-07-10 20:26:00.515 +05:45 [DBG] Connection id "0HNDVNV4VF92D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:26:00.655 +05:45 [DBG] Connection id "0HNDVNV4VF92E" accepted.
2025-07-10 20:26:00.656 +05:45 [DBG] Connection id "0HNDVNV4VF92E" started.
2025-07-10 20:26:00.695 +05:45 [DBG] Connection 0HNDVNV4VF92E established using the following protocol: "Tls12"
2025-07-10 20:26:00.732 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 20:26:00.811 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 20:26:00.828 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 20:26:00.830 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:26:00.878 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 20:26:00.881 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 20:26:00.895 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 20:26:00.897 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 20:26:00.900 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 172.6813ms
2025-07-10 20:26:01.214 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 20:26:01.214 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 20:26:01.222 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 20:26:01.225 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 11.488ms
2025-07-10 20:26:01.255 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.7416ms
2025-07-10 20:26:01.410 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 20:26:01.413 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 20:26:01.414 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:26:01.432 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.1808ms
2025-07-10 20:28:30.572 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 60
2025-07-10 20:28:30.585 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 20:28:30.588 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 20:28:30.591 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:28:30.595 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:28:30.596 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:28:30.597 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:28:30.651 +05:45 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-10 20:28:30.655 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:28:30.679 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 20:28:30.685 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:28:30.686 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:28:30.687 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:28:30.689 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:28:30.691 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:28:30.693 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:28:30.697 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:28:30.710 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:28:30.714 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 20:28:30.717 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:28:30.727 +05:45 [DBG] Connection id "0HNDVNV4VF92E", Request id "0HNDVNV4VF92E:00000009": started reading request body.
2025-07-10 20:28:30.730 +05:45 [DBG] Connection id "0HNDVNV4VF92E", Request id "0HNDVNV4VF92E:00000009": done reading request body.
2025-07-10 20:28:30.735 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 20:28:30.737 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:28:30.738 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:28:30.739 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:28:30.748 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:28:32.755 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:28:32.760 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:28:32.761 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:28:32.762 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.763 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.764 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:28:32.765 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:28:32.767 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-10 20:28:32.768 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:28:32.771 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:28:32.781 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:28:32.784 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.785 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
2025-07-10 20:28:32.787 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.788 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:28:32.872 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-10 20:28:32.889 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 20:28:32.893 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.894 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.895 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:28:32.896 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:28:32.897 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:28:32.898 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:28:32.901 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:28:32.905 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.906 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:28:32.907 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.908 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:28:32.938 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:28:32.943 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:28:32.944 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:28:32.945 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:28:32.947 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:28:32.948 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 20:28:32.955 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 2260.2594ms
2025-07-10 20:28:32.959 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:28:32.964 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:28:32.968 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:28:32.970 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:28:32.971 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 2398.8755ms
2025-07-10 20:32:34.934 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 20:32:35.095 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 20:32:35.570 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 20:32:35.572 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 20:32:35.768 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:32:35.835 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 20:32:36.002 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:32:36.040 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:32:36.086 +05:45 [DBG] Created DbConnection. (45ms).
2025-07-10 20:32:36.093 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.379 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.386 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:32:36.392 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-10 20:32:36.398 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-07-10 20:32:36.406 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:32:36.470 +05:45 [INF] Executed DbCommand (64ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:32:36.505 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:32:36.522 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.532 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 55ms reading results.
2025-07-10 20:32:36.537 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.542 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (4ms).
2025-07-10 20:32:36.548 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 20:32:36.559 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:32:36.564 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.565 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.566 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:32:36.567 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:32:36.568 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:32:36.569 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:32:36.577 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:32:36.590 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:32:36.621 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.623 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 43ms reading results.
2025-07-10 20:32:36.624 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.625 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:32:36.630 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.631 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.632 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:32:36.633 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:32:36.635 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:32:36.637 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:32:36.639 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:32:36.642 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:32:36.643 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.644 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:32:36.646 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.647 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:32:36.648 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.649 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.650 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:32:36.651 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:32:36.652 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:32:36.653 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:32:36.656 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:32:36.659 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:32:36.660 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.662 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 20:32:36.663 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.664 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:32:36.667 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:32:36.670 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:32:36.672 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:32:36.725 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 20:32:36.781 +05:45 [DBG] Hosting starting
2025-07-10 20:32:36.790 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 20:32:36.797 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 20:32:36.800 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 20:32:36.801 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 20:32:36.803 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 20:32:36.804 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 20:32:36.805 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 20:32:36.809 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 20:32:36.814 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 20:32:36.816 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 20:32:36.817 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 20:32:36.818 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 20:32:36.819 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 20:32:36.820 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 20:32:36.825 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 20:32:36.831 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:32:36.832 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 20:32:36.835 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:32:36.839 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 20:32:36.842 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 20:32:36.846 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 20:32:36.848 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 20:32:36.853 +05:45 [DBG] Middleware loaded
2025-07-10 20:32:36.856 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 20:32:36.858 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 20:32:36.936 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 20:32:37.020 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 20:32:37.022 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 20:32:37.023 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 20:32:37.024 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 20:32:37.025 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 20:32:37.025 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 20:32:37.075 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 20:32:37.078 +05:45 [INF] Hosting environment: Development
2025-07-10 20:32:37.078 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 20:32:37.079 +05:45 [DBG] Hosting started
2025-07-10 20:32:37.195 +05:45 [DBG] Connection id "0HNDVO2R71ICQ" accepted.
2025-07-10 20:32:37.198 +05:45 [DBG] Connection id "0HNDVO2R71ICQ" started.
2025-07-10 20:32:37.199 +05:45 [DBG] Connection id "0HNDVO2R71ICR" accepted.
2025-07-10 20:32:37.202 +05:45 [DBG] Connection id "0HNDVO2R71ICR" started.
2025-07-10 20:32:37.221 +05:45 [DBG] Connection id "0HNDVO2R71ICQ" received FIN.
2025-07-10 20:32:37.221 +05:45 [DBG] Connection id "0HNDVO2R71ICR" received FIN.
2025-07-10 20:32:37.228 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 20:32:37.228 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 20:32:37.262 +05:45 [DBG] Connection id "0HNDVO2R71ICQ" stopped.
2025-07-10 20:32:37.266 +05:45 [DBG] Connection id "0HNDVO2R71ICR" stopped.
2025-07-10 20:32:37.270 +05:45 [DBG] Connection id "0HNDVO2R71ICR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:32:37.270 +05:45 [DBG] Connection id "0HNDVO2R71ICQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:32:37.458 +05:45 [DBG] Connection id "0HNDVO2R71ICS" accepted.
2025-07-10 20:32:37.461 +05:45 [DBG] Connection id "0HNDVO2R71ICS" started.
2025-07-10 20:32:37.509 +05:45 [DBG] Connection 0HNDVO2R71ICS established using the following protocol: "Tls12"
2025-07-10 20:32:37.585 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 20:32:37.585 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 20:32:37.629 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 20:32:37.635 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 50.2369ms
2025-07-10 20:32:37.701 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 20:32:37.722 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 20:32:37.724 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:32:37.789 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 20:32:37.791 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 20:32:37.808 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 20:32:37.809 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 20:32:37.812 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 236.9406ms
2025-07-10 20:32:37.850 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 20:32:37.850 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 20:32:37.857 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 20:32:37.861 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 11.2187ms
2025-07-10 20:32:37.912 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 61.7335ms
2025-07-10 20:32:37.919 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 20:32:37.923 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 20:32:37.924 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:32:37.951 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.9184ms
2025-07-10 20:32:38.117 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 20:32:38.120 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 20:32:38.122 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:32:38.130 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.5313ms
2025-07-10 20:33:16.902 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 20:33:17.059 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 20:33:17.475 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 20:33:17.478 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 20:33:17.684 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:33:17.731 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 20:33:17.875 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:33:17.913 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:33:17.948 +05:45 [DBG] Created DbConnection. (33ms).
2025-07-10 20:33:17.954 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.085 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.090 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:33:18.097 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2025-07-10 20:33:18.105 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-07-10 20:33:18.114 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:33:18.176 +05:45 [INF] Executed DbCommand (63ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:33:18.213 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:33:18.232 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.240 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 58ms reading results.
2025-07-10 20:33:18.246 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.249 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (3ms).
2025-07-10 20:33:18.256 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 20:33:18.265 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:33:18.271 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.272 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.273 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:33:18.274 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:33:18.275 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:33:18.276 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:33:18.283 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:33:18.296 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:33:18.321 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.325 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 39ms reading results.
2025-07-10 20:33:18.327 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.328 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:33:18.333 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.334 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.335 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:33:18.336 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:33:18.337 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:33:18.338 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:33:18.341 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:33:18.343 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:33:18.344 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.345 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:33:18.346 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.347 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:33:18.349 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.350 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.351 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:33:18.352 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:33:18.353 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:33:18.354 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:33:18.357 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:33:18.359 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:33:18.360 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.361 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:33:18.362 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.363 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:33:18.366 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:33:18.368 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:33:18.371 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:33:18.420 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 20:33:18.468 +05:45 [DBG] Hosting starting
2025-07-10 20:33:18.477 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 20:33:18.485 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 20:33:18.487 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 20:33:18.490 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 20:33:18.491 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 20:33:18.492 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 20:33:18.493 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 20:33:18.497 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 20:33:18.500 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 20:33:18.503 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 20:33:18.504 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 20:33:18.505 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 20:33:18.506 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 20:33:18.507 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 20:33:18.512 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 20:33:18.518 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:33:18.520 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 20:33:18.523 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:33:18.527 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 20:33:18.530 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 20:33:18.533 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 20:33:18.535 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 20:33:18.540 +05:45 [DBG] Middleware loaded
2025-07-10 20:33:18.544 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 20:33:18.548 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 20:33:18.619 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 20:33:18.696 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 20:33:18.698 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 20:33:18.699 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 20:33:18.700 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 20:33:18.701 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 20:33:18.702 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 20:33:18.745 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 20:33:18.748 +05:45 [INF] Hosting environment: Development
2025-07-10 20:33:18.749 +05:45 [INF] Content root path: E:\SumX\MultiTenantSystem.API\MultiTenantSystem.API
2025-07-10 20:33:18.750 +05:45 [DBG] Hosting started
2025-07-10 20:33:18.912 +05:45 [DBG] Connection id "0HNDVO37KSLFQ" accepted.
2025-07-10 20:33:18.916 +05:45 [DBG] Connection id "0HNDVO37KSLFQ" started.
2025-07-10 20:33:18.917 +05:45 [DBG] Connection id "0HNDVO37KSLFR" accepted.
2025-07-10 20:33:18.918 +05:45 [DBG] Connection id "0HNDVO37KSLFR" started.
2025-07-10 20:33:18.950 +05:45 [DBG] Connection id "0HNDVO37KSLFQ" received FIN.
2025-07-10 20:33:18.950 +05:45 [DBG] Connection id "0HNDVO37KSLFR" received FIN.
2025-07-10 20:33:18.959 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 20:33:18.959 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 20:33:18.991 +05:45 [DBG] Connection id "0HNDVO37KSLFR" stopped.
2025-07-10 20:33:18.991 +05:45 [DBG] Connection id "0HNDVO37KSLFQ" stopped.
2025-07-10 20:33:18.996 +05:45 [DBG] Connection id "0HNDVO37KSLFR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:33:18.997 +05:45 [DBG] Connection id "0HNDVO37KSLFQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:33:19.061 +05:45 [DBG] Connection id "0HNDVO37KSLFS" accepted.
2025-07-10 20:33:19.063 +05:45 [DBG] Connection id "0HNDVO37KSLFS" started.
2025-07-10 20:33:19.104 +05:45 [DBG] Connection 0HNDVO37KSLFS established using the following protocol: "Tls12"
2025-07-10 20:33:19.147 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 20:33:19.234 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 20:33:19.252 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 20:33:19.254 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:33:19.306 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 20:33:19.309 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 20:33:19.326 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 20:33:19.328 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 20:33:19.332 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 188.2847ms
2025-07-10 20:33:19.362 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 20:33:19.362 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 20:33:19.376 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 20:33:19.383 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 21.5686ms
2025-07-10 20:33:19.410 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.3723ms
2025-07-10 20:33:19.550 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 20:33:19.560 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 20:33:19.567 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:33:19.596 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.2099ms
2025-07-10 20:37:11.503 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 60
2025-07-10 20:37:11.517 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 20:37:11.519 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 20:37:11.521 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:37:11.524 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:37:11.525 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:37:11.526 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:37:11.579 +05:45 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-10 20:37:11.584 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:37:11.599 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 20:37:11.603 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:37:11.604 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:37:11.606 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:37:11.607 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:37:11.608 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:37:11.611 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:37:11.614 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:37:11.626 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:37:11.629 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 20:37:11.635 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:37:11.645 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000009": started reading request body.
2025-07-10 20:37:11.647 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000009": done reading request body.
2025-07-10 20:37:11.653 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 20:37:11.655 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:37:11.656 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:37:11.658 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:37:11.666 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:37:14.219 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:37:14.224 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:37:14.224 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:37:14.225 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.226 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.227 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:37:14.228 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:37:14.229 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:37:14.230 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:37:14.233 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:37:14.236 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:37:14.238 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.239 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 20:37:14.241 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.242 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:37:14.333 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-10 20:37:14.370 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 20:37:14.375 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.378 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.380 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:37:14.380 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:37:14.382 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:37:14.383 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:37:14.389 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:37:14.392 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.394 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:37:14.395 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.396 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:37:14.425 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:37:14.429 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:37:14.430 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:37:14.431 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:37:14.432 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:37:14.433 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 20:37:14.441 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 2827.7477ms
2025-07-10 20:37:14.444 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:37:14.448 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:37:14.452 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:14.455 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (3ms).
2025-07-10 20:37:14.457 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 2954.2567ms
2025-07-10 20:37:43.349 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Tenant/CreateTenant - application/json 24
2025-07-10 20:37:43.360 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Tenant/CreateTenant'
2025-07-10 20:37:43.361 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API)' with route pattern 'api/Tenant/CreateTenant' is valid for the request path '/api/Tenant/CreateTenant'
2025-07-10 20:37:43.363 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API)'
2025-07-10 20:37:43.364 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:37:43.365 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:37:43.366 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:37:43.401 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:37:43.404 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:37:43.409 +05:45 [DBG] Authorization was successful.
2025-07-10 20:37:43.410 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API)'
2025-07-10 20:37:43.415 +05:45 [INF] Route matched with {action = "CreateTenant", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTenant(MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand) on controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API).
2025-07-10 20:37:43.417 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:37:43.418 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:37:43.420 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:37:43.421 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:37:43.422 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:37:43.425 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:37:43.428 +05:45 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-10 20:37:43.429 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:37:43.431 +05:45 [DBG] Attempting to bind parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand' ...
2025-07-10 20:37:43.432 +05:45 [DBG] Attempting to bind parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand' using the name '' in request data ...
2025-07-10 20:37:43.434 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:37:43.436 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:0000000B": started reading request body.
2025-07-10 20:37:43.437 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:0000000B": done reading request body.
2025-07-10 20:37:43.439 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand'
2025-07-10 20:37:43.441 +05:45 [DBG] Done attempting to bind parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand'.
2025-07-10 20:37:43.442 +05:45 [DBG] Done attempting to bind parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand'.
2025-07-10 20:37:43.443 +05:45 [DBG] Attempting to validate the bound parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand' ...
2025-07-10 20:37:43.446 +05:45 [DBG] Done attempting to validate the bound parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand'.
2025-07-10 20:37:48.324 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:37:51.323 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:37:51.328 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:37:51.331 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:37:51.341 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:37:51.388 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:37:51.390 +05:45 [DBG] Created DbConnection. (2ms).
2025-07-10 20:37:51.391 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:51.392 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:51.395 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:37:51.396 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:37:51.397 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:37:51.398 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "Name")
VALUES (@p0, @p1);
2025-07-10 20:37:51.403 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "Name")
VALUES (@p0, @p1);
2025-07-10 20:37:51.410 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:51.411 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-07-10 20:37:51.412 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:51.413 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:37:51.420 +05:45 [DBG] An entity of type 'Tenant' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:37:51.424 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:37:51.427 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:37:51.429 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:37:51.430 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:37:51.431 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:37:51.433 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:37:51.434 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2025-07-10 20:37:51.437 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API) in 8012.7096ms
2025-07-10 20:37:51.441 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API)'
2025-07-10 20:37:51.442 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:37:51.444 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:37:51.445 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:37:51.446 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Tenant/CreateTenant - 200 null application/json; charset=utf-8 8097.1902ms
2025-07-10 20:38:01.760 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Tenant/CreateTenant - application/json 20
2025-07-10 20:38:01.765 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Tenant/CreateTenant'
2025-07-10 20:38:01.766 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API)' with route pattern 'api/Tenant/CreateTenant' is valid for the request path '/api/Tenant/CreateTenant'
2025-07-10 20:38:01.768 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API)'
2025-07-10 20:38:01.769 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:38:01.771 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:38:01.772 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:38:01.774 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:38:01.775 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:38:01.777 +05:45 [DBG] Authorization was successful.
2025-07-10 20:38:01.777 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API)'
2025-07-10 20:38:01.779 +05:45 [INF] Route matched with {action = "CreateTenant", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTenant(MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand) on controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API).
2025-07-10 20:38:01.780 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:38:01.781 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:38:01.783 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:38:01.784 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:38:01.786 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:38:01.788 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:38:01.789 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:38:01.790 +05:45 [DBG] Attempting to bind parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand' ...
2025-07-10 20:38:01.792 +05:45 [DBG] Attempting to bind parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand' using the name '' in request data ...
2025-07-10 20:38:01.793 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:38:01.794 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:0000000D": started reading request body.
2025-07-10 20:38:01.795 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:0000000D": done reading request body.
2025-07-10 20:38:01.796 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand'
2025-07-10 20:38:01.797 +05:45 [DBG] Done attempting to bind parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand'.
2025-07-10 20:38:01.798 +05:45 [DBG] Done attempting to bind parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand'.
2025-07-10 20:38:01.799 +05:45 [DBG] Attempting to validate the bound parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand' ...
2025-07-10 20:38:01.801 +05:45 [DBG] Done attempting to validate the bound parameter 'command' of type 'MultiTenantSystem.Application.Features.Tenants.Commands.CreateTenantCommand'.
2025-07-10 20:38:01.803 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:38:01.805 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:38:01.806 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:38:01.807 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:38:01.808 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:38:01.809 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:38:01.810 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:38:01.811 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:01.812 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:01.813 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:38:01.814 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:38:01.815 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:38:01.816 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "Name")
VALUES (@p0, @p1);
2025-07-10 20:38:01.820 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tenants" ("Id", "Name")
VALUES (@p0, @p1);
2025-07-10 20:38:01.823 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:01.824 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:38:01.826 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:01.827 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:38:01.828 +05:45 [DBG] An entity of type 'Tenant' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:38:01.830 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:38:01.831 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:38:01.833 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:38:01.834 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:38:01.835 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:38:01.837 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:38:01.838 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2025-07-10 20:38:01.839 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API) in 51.056ms
2025-07-10 20:38:01.840 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantController.CreateTenant (MultiTenantSystem.API)'
2025-07-10 20:38:01.842 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:38:01.844 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:01.845 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:38:01.847 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Tenant/CreateTenant - 200 null application/json; charset=utf-8 86.603ms
2025-07-10 20:38:23.849 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/api/Tenant/GetAllTenant - null null
2025-07-10 20:38:23.851 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Tenant/GetAllTenant'
2025-07-10 20:38:23.853 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)' with route pattern 'api/Tenant/GetAllTenant' is valid for the request path '/api/Tenant/GetAllTenant'
2025-07-10 20:38:23.854 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:38:23.855 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:38:23.856 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:38:23.857 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:38:23.858 +05:45 [DBG] Authorization was successful.
2025-07-10 20:38:23.859 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:38:23.862 +05:45 [INF] Route matched with {action = "GetAll", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API).
2025-07-10 20:38:23.865 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:38:23.866 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:38:23.867 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:38:23.869 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:38:23.870 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:38:23.873 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:38:23.875 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:38:23.878 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:38:23.883 +05:45 [DBG] Compiling query expression: 
'DbSet<Tenant>()'
2025-07-10 20:38:23.887 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Tenant>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Name (string) Required, 1] }
        SELECT t.Id, t.Name
        FROM Tenants AS t), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tenant>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 20:38:23.890 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:38:23.890 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:38:23.891 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:23.928 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:23.931 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:38:23.932 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:38:23.933 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:38:23.934 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tenants" AS t
2025-07-10 20:38:23.938 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tenants" AS t
2025-07-10 20:38:23.940 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:38:23.941 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:38:23.942 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:23.943 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 20:38:23.945 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:23.946 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:38:23.948 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:38:23.950 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:38:23.951 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:38:23.952 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:38:23.952 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:38:23.954 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MultiTenantSystem.Core.Entities.Tenant, MultiTenantSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-10 20:38:23.963 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API) in 90.393ms
2025-07-10 20:38:23.966 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:38:23.967 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:38:23.969 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:23.971 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:38:23.972 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/api/Tenant/GetAllTenant - 200 null application/json; charset=utf-8 123.8774ms
2025-07-10 20:38:35.806 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/api/Tenant/GetTenantById/2d8c4995-a8a1-4b43-9646-ba0856683fae - null null
2025-07-10 20:38:35.809 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Tenant/GetTenantById/2d8c4995-a8a1-4b43-9646-ba0856683fae'
2025-07-10 20:38:35.811 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetById (MultiTenantSystem.API)' with route pattern 'api/Tenant/GetTenantById/{id}' is valid for the request path '/api/Tenant/GetTenantById/2d8c4995-a8a1-4b43-9646-ba0856683fae'
2025-07-10 20:38:35.812 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetById (MultiTenantSystem.API)'
2025-07-10 20:38:35.813 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:38:35.814 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:38:35.815 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:38:35.816 +05:45 [DBG] Authorization was successful.
2025-07-10 20:38:35.816 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetById (MultiTenantSystem.API)'
2025-07-10 20:38:35.820 +05:45 [INF] Route matched with {action = "GetById", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API).
2025-07-10 20:38:35.823 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:38:35.825 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:38:35.826 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:38:35.828 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:38:35.829 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:38:35.830 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:38:35.831 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:38:35.833 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-07-10 20:38:35.834 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-07-10 20:38:35.836 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 20:38:35.837 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 20:38:35.838 +05:45 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-07-10 20:38:35.839 +05:45 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-07-10 20:38:35.895 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:38:35.906 +05:45 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2025-07-10 20:38:35.912 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: new SingleQueryingEnumerable<Tenant>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Name (string) Required, 1] }
            SELECT TOP(1) t.Id, t.Name
            FROM Tenants AS t
            WHERE t.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tenant>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:38:35.915 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:38:35.916 +05:45 [DBG] Created DbConnection. (1ms).
2025-07-10 20:38:35.917 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:35.918 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:35.919 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:38:35.919 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:38:35.920 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:38:35.921 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tenants" AS t
WHERE t."Id" = @__get_Item_0
LIMIT 1
2025-07-10 20:38:35.924 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tenants" AS t
WHERE t."Id" = @__get_Item_0
LIMIT 1
2025-07-10 20:38:35.927 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:38:35.928 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:35.929 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:38:35.930 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:35.931 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:38:35.933 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:38:35.935 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:38:35.935 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:38:35.936 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:38:35.937 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:38:35.938 +05:45 [INF] Executing OkObjectResult, writing value of type 'MultiTenantSystem.Core.Entities.Tenant'.
2025-07-10 20:38:35.939 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantController.GetById (MultiTenantSystem.API) in 108.9414ms
2025-07-10 20:38:35.941 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetById (MultiTenantSystem.API)'
2025-07-10 20:38:35.942 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:38:35.944 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:38:35.945 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:38:35.946 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/api/Tenant/GetTenantById/2d8c4995-a8a1-4b43-9646-ba0856683fae - 200 null application/json; charset=utf-8 140.5696ms
2025-07-10 20:39:27.788 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/TenantUser/addEdit - application/json 112
2025-07-10 20:39:27.797 +05:45 [DBG] 1 candidate(s) found for the request path '/api/TenantUser/addEdit'
2025-07-10 20:39:27.798 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)' with route pattern 'api/TenantUser/addEdit' is valid for the request path '/api/TenantUser/addEdit'
2025-07-10 20:39:27.801 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 20:39:27.803 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:39:27.805 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:39:27.807 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:39:27.809 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:39:27.811 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:39:27.812 +05:45 [DBG] Authorization was successful.
2025-07-10 20:39:27.813 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 20:39:27.817 +05:45 [INF] Route matched with {action = "AddOrUpdateTenantAdmin", controller = "TenantUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdateTenantAdmin(MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand) on controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API).
2025-07-10 20:39:27.819 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:39:27.820 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:39:27.821 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:39:27.823 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:39:27.824 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:39:27.825 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API)
2025-07-10 20:39:27.826 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API)
2025-07-10 20:39:27.828 +05:45 [DBG] Attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' ...
2025-07-10 20:39:27.829 +05:45 [DBG] Attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' using the name '' in request data ...
2025-07-10 20:39:27.830 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:39:27.833 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000013": started reading request body.
2025-07-10 20:39:27.834 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000013": done reading request body.
2025-07-10 20:39:27.837 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'
2025-07-10 20:39:27.839 +05:45 [DBG] Done attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 20:39:27.841 +05:45 [DBG] Done attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 20:39:27.842 +05:45 [DBG] Attempting to validate the bound parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' ...
2025-07-10 20:39:27.845 +05:45 [DBG] Done attempting to validate the bound parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 20:39:27.854 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:39:27.857 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2025-07-10 20:39:27.861 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:39:27.863 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:39:27.864 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:39:27.865 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:27.866 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:27.867 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:27.868 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:27.869 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:27.870 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:27.874 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:27.877 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:27.878 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:27.879 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:39:27.880 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:27.881 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:27.885 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<User>(), 
        outerKeySelector: userrole => userrole.UserId, 
        innerKeySelector: user => user.Id, 
        resultSelector: (userrole, user) => new { 
            userrole = userrole, 
            user = user
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userrole.RoleId.Equals(__role_Id_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.user)'
2025-07-10 20:39:27.890 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
        SELECT a0.Id, a0.AccessFailedCount, a0.ConcurrencyStamp, a0.Email, a0.EmailConfirmed, a0.LockoutEnabled, a0.LockoutEnd, a0.NormalizedEmail, a0.NormalizedUserName, a0.PasswordHash, a0.PhoneNumber, a0.PhoneNumberConfirmed, a0.SecurityStamp, a0.TenantId, a0.TwoFactorEnabled, a0.UserName
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetUsers AS a0 ON a.UserId == a0.Id
        WHERE a.RoleId == @__role_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 20:39:27.895 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:27.896 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:27.897 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:27.897 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:27.899 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:27.900 +05:45 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TenantId", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-07-10 20:39:27.906 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TenantId", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-07-10 20:39:27.908 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:27.909 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:27.911 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:27.912 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:28.002 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-07-10 20:39:28.008 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:39:28.012 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.013 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.014 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:28.015 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:28.017 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:28.019 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:39:28.022 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:39:28.028 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.029 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:28.031 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.032 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:28.044 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:28.046 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:39:28.047 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:39:28.060 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:39:28.066 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.067 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.068 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:28.069 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:28.070 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:28.072 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TenantId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-10 20:39:28.082 +05:45 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TenantId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-10 20:39:28.086 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.088 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:28.089 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.090 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:28.092 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:28.094 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:39:28.096 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.097 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.100 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:28.101 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:28.102 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:28.103 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:39:28.105 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:39:28.107 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.108 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:28.110 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.111 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:28.115 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.117 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.118 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:28.119 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:28.119 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:28.120 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:28.123 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:28.126 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.127 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:28.128 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.129 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:28.133 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "UserId"), 
        objB: __get_Item_0) && object.Equals(
        objA: EF.Property<object>(e, "RoleId"), 
        objB: __get_Item_1))'
2025-07-10 20:39:28.137 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<Guid>.UserId (Guid) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<Guid>.RoleId (Guid) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__get_Item_0) && (a.RoleId == @__get_Item_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:39:28.142 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.143 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.144 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:28.145 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:28.146 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:28.147 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__get_Item_0 AND a."RoleId" = @__get_Item_1
LIMIT 1
2025-07-10 20:39:28.150 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__get_Item_0 AND a."RoleId" = @__get_Item_1
LIMIT 1
2025-07-10 20:39:28.153 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.154 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:28.155 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.156 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:28.160 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.162 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.163 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:28.164 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:28.165 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:28.166 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:28.169 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:28.171 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.172 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:28.173 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.174 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:28.185 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:28.189 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.190 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.191 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:28.192 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:28.193 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:28.194 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:39:28.197 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:39:28.200 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.201 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:28.202 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.203 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:28.208 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:28.211 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:39:28.212 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:39:28.213 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:39:28.226 +05:45 [DBG] Executing 2 update commands as a batch.
2025-07-10 20:39:28.229 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.230 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.232 +05:45 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-10 20:39:28.237 +05:45 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-10 20:39:28.239 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:28.241 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:28.243 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-07-10 20:39:28.244 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TenantId" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-07-10 20:39:28.247 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TenantId" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-07-10 20:39:28.250 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.251 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:39:28.254 +05:45 [DBG] Committing transaction.
2025-07-10 20:39:28.258 +05:45 [DBG] Committed transaction.
2025-07-10 20:39:28.261 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.263 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:28.265 +05:45 [DBG] Disposing transaction.
2025-07-10 20:39:28.266 +05:45 [DBG] An entity of type 'IdentityUserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:28.268 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:28.269 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-07-10 20:39:28.271 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:39:28.272 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:39:28.274 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:39:28.275 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:39:28.275 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:39:28.276 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2025-07-10 20:39:28.278 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API) in 452.2892ms
2025-07-10 20:39:28.279 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 20:39:28.280 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:39:28.281 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:28.283 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:28.284 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/TenantUser/addEdit - 200 null application/json; charset=utf-8 496.2148ms
2025-07-10 20:39:56.609 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/TenantUser/addEdit - application/json 111
2025-07-10 20:39:56.618 +05:45 [DBG] 1 candidate(s) found for the request path '/api/TenantUser/addEdit'
2025-07-10 20:39:56.620 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)' with route pattern 'api/TenantUser/addEdit' is valid for the request path '/api/TenantUser/addEdit'
2025-07-10 20:39:56.623 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 20:39:56.624 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:39:56.625 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:39:56.627 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:39:56.628 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:39:56.628 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:39:56.629 +05:45 [DBG] Authorization was successful.
2025-07-10 20:39:56.630 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 20:39:56.631 +05:45 [INF] Route matched with {action = "AddOrUpdateTenantAdmin", controller = "TenantUser"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdateTenantAdmin(MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand) on controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API).
2025-07-10 20:39:56.633 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:39:56.634 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:39:56.635 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:39:56.637 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:39:56.638 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:39:56.639 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API)
2025-07-10 20:39:56.640 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantUserController (MultiTenantSystem.API)
2025-07-10 20:39:56.642 +05:45 [DBG] Attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' ...
2025-07-10 20:39:56.644 +05:45 [DBG] Attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' using the name '' in request data ...
2025-07-10 20:39:56.645 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:39:56.646 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000015": started reading request body.
2025-07-10 20:39:56.647 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000015": done reading request body.
2025-07-10 20:39:56.649 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'
2025-07-10 20:39:56.649 +05:45 [DBG] Done attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 20:39:56.651 +05:45 [DBG] Done attempting to bind parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 20:39:56.652 +05:45 [DBG] Attempting to validate the bound parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand' ...
2025-07-10 20:39:56.653 +05:45 [DBG] Done attempting to validate the bound parameter 'cmd' of type 'MultiTenantSystem.Application.Features.Users.Commands.CreateOrUpdateTenantAdminCommand'.
2025-07-10 20:39:56.655 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:39:56.658 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:39:56.659 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:39:56.660 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.661 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.663 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.664 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.665 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:56.666 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:56.669 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:56.676 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:56.677 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.678 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:39:56.679 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.680 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:56.682 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.683 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.684 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.685 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.686 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.687 +05:45 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TenantId", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-07-10 20:39:56.689 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TenantId", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-07-10 20:39:56.692 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:56.693 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.694 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:39:56.695 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.696 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:56.769 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.772 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.773 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.774 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.775 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:39:56.776 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:39:56.779 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:39:56.781 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.782 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:39:56.783 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.784 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:56.786 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:56.788 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:39:56.789 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:39:56.790 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:39:56.793 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.794 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.795 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.795 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.796 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.797 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TenantId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-10 20:39:56.801 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TenantId", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-10 20:39:56.803 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.804 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:39:56.805 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.806 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:56.807 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:56.810 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:39:56.811 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.812 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.813 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.813 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.814 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.815 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:39:56.819 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:39:56.821 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.822 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:39:56.824 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.825 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:56.827 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.828 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.829 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.830 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.830 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.832 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:56.835 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:56.837 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.838 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:39:56.839 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.840 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:56.842 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.844 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.844 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.845 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.846 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.847 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__get_Item_0 AND a."RoleId" = @__get_Item_1
LIMIT 1
2025-07-10 20:39:56.851 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__get_Item_0 AND a."RoleId" = @__get_Item_1
LIMIT 1
2025-07-10 20:39:56.853 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.854 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:39:56.855 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.856 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:56.858 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.859 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.861 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.861 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.863 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.863 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:56.866 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-07-10 20:39:56.869 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.869 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:39:56.871 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.872 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:56.873 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:56.876 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.877 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.878 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.879 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.880 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.881 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:39:56.884 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-07-10 20:39:56.886 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.887 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:39:56.888 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.889 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:56.891 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:56.893 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:39:56.894 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:39:56.895 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:39:56.896 +05:45 [DBG] Executing 2 update commands as a batch.
2025-07-10 20:39:56.897 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.899 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.900 +05:45 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-10 20:39:56.901 +05:45 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-10 20:39:56.902 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:39:56.902 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:39:56.903 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:39:56.904 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TenantId" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-07-10 20:39:56.908 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p17='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?', @p18='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TenantId" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-07-10 20:39:56.911 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.911 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:39:56.913 +05:45 [DBG] Committing transaction.
2025-07-10 20:39:56.914 +05:45 [DBG] Committed transaction.
2025-07-10 20:39:56.915 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.916 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:39:56.917 +05:45 [DBG] Disposing transaction.
2025-07-10 20:39:56.918 +05:45 [DBG] An entity of type 'IdentityUserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:56.919 +05:45 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:39:56.921 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2025-07-10 20:39:56.922 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:39:56.925 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:39:56.926 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:39:56.927 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:39:56.928 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:39:56.929 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2025-07-10 20:39:56.930 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API) in 290.9845ms
2025-07-10 20:39:56.931 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantUserController.AddOrUpdateTenantAdmin (MultiTenantSystem.API)'
2025-07-10 20:39:56.932 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:39:56.933 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:39:56.934 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:39:56.936 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/TenantUser/addEdit - 200 null application/json; charset=utf-8 326.9204ms
2025-07-10 20:41:43.906 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Employee/CreateEmployee - application/json 143
2025-07-10 20:41:43.914 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/CreateEmployee'
2025-07-10 20:41:43.916 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)' with route pattern 'api/Employee/CreateEmployee' is valid for the request path '/api/Employee/CreateEmployee'
2025-07-10 20:41:43.918 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)'
2025-07-10 20:41:43.919 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:41:43.919 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:41:43.920 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:41:43.922 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:41:43.922 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:41:43.924 +05:45 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-10 20:41:43.926 +05:45 [INF] AuthenticationScheme: Bearer was forbidden.
2025-07-10 20:41:43.927 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Employee/CreateEmployee - 403 0 null 21.5804ms
2025-07-10 20:41:43.935 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000017": started reading request body.
2025-07-10 20:41:43.937 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000017": done reading request body.
2025-07-10 20:47:55.735 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 112
2025-07-10 20:47:55.781 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 20:47:55.782 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 20:47:55.783 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:47:55.784 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:47:55.785 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:47:55.786 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:47:55.787 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:47:55.787 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:47:55.788 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:47:55.789 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 20:47:55.791 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:47:55.792 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:47:55.794 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:47:55.796 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:47:55.797 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:47:55.798 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:47:55.805 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:47:55.806 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:47:55.807 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 20:47:55.808 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:47:55.810 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000019": started reading request body.
2025-07-10 20:47:55.811 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:00000019": done reading request body.
2025-07-10 20:47:55.814 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 20:47:55.814 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:47:55.816 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:47:55.817 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:47:55.818 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:47:58.813 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:47:58.817 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:47:58.819 +05:45 [DBG] Created DbConnection. (1ms).
2025-07-10 20:47:58.820 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.855 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.857 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:47:58.858 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:47:58.859 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:47:58.860 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:47:58.865 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:47:58.869 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:47:58.871 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.872 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 20:47:58.874 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.875 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:47:58.947 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.949 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.950 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:47:58.951 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:47:58.952 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:47:58.953 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:47:58.957 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:47:58.960 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.961 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:47:58.962 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.963 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:47:58.965 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:47:58.966 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:47:58.967 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:47:58.968 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:47:58.969 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:47:58.971 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 20:47:58.972 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 3174.0326ms
2025-07-10 20:47:58.974 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:47:58.975 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:47:58.976 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:47:58.977 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:47:58.979 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 3243.2898ms
2025-07-10 20:48:15.894 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Employee/CreateEmployee - application/json 143
2025-07-10 20:48:15.899 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/CreateEmployee'
2025-07-10 20:48:15.900 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)' with route pattern 'api/Employee/CreateEmployee' is valid for the request path '/api/Employee/CreateEmployee'
2025-07-10 20:48:15.902 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)'
2025-07-10 20:48:15.904 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:48:15.904 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:48:15.905 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:48:15.906 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:48:15.907 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:48:15.908 +05:45 [DBG] Authorization was successful.
2025-07-10 20:48:15.909 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)'
2025-07-10 20:48:15.912 +05:45 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(MultiTenantSystem.Application.DTOs.CreateEmployeeDto) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 20:48:15.914 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:48:15.915 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:48:15.916 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:48:15.919 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:48:15.920 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:48:15.921 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:48:15.923 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:48:15.924 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 20:48:15.925 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' using the name '' in request data ...
2025-07-10 20:48:15.926 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:48:15.928 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:0000001B": started reading request body.
2025-07-10 20:48:15.929 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:0000001B": done reading request body.
2025-07-10 20:48:15.931 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'
2025-07-10 20:48:15.932 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:48:15.933 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:48:15.934 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 20:48:15.936 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:48:15.939 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:48:15.952 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:48:15.955 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:48:15.956 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:48:15.959 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:48:15.962 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:48:15.963 +05:45 [DBG] Created DbConnection. (1ms).
2025-07-10 20:48:15.964 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:15.966 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:15.967 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:48:15.968 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:48:15.970 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:48:15.971 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Employees" ("Id", "Address", "ContactNo", "Email", "FullName", "Position", "TenantId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-10 20:48:15.977 +05:45 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Employees" ("Id", "Address", "ContactNo", "Email", "FullName", "Position", "TenantId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-10 20:48:15.981 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:15.982 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:48:15.983 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:15.984 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:48:15.986 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:48:15.987 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:48:15.989 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:48:15.992 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:48:15.993 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:48:15.994 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:48:15.995 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:48:15.996 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2025-07-10 20:48:15.997 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API) in 76.2006ms
2025-07-10 20:48:15.999 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)'
2025-07-10 20:48:16.000 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:48:16.002 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:16.003 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:48:16.004 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Employee/CreateEmployee - 200 null application/json; charset=utf-8 110.0709ms
2025-07-10 20:48:54.129 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 111
2025-07-10 20:48:54.137 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 20:48:54.139 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 20:48:54.140 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:48:54.141 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:48:54.142 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:48:54.142 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:48:54.143 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:48:54.144 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:48:54.145 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:48:54.147 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 20:48:54.149 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:48:54.150 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:48:54.151 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:48:54.152 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:48:54.154 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:48:54.155 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:48:54.156 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:48:54.157 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:48:54.158 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 20:48:54.159 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:48:54.161 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:0000001D": started reading request body.
2025-07-10 20:48:54.162 +05:45 [DBG] Connection id "0HNDVO37KSLFS", Request id "0HNDVO37KSLFS:0000001D": done reading request body.
2025-07-10 20:48:54.164 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 20:48:54.165 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:48:54.166 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:48:54.166 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:48:54.168 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:48:54.169 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:48:54.172 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:48:54.172 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:48:54.173 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.174 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.175 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:48:54.176 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:48:54.177 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:48:54.178 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:48:54.189 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:48:54.199 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:48:54.200 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.201 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:48:54.203 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.203 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:48:54.276 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.278 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.280 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:48:54.280 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:48:54.281 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:48:54.282 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:48:54.285 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:48:54.287 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.289 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:48:54.290 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.291 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:48:54.293 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:48:54.295 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:48:54.295 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:48:54.296 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:48:54.297 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:48:54.298 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 20:48:54.299 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 144.3654ms
2025-07-10 20:48:54.300 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:48:54.302 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:48:54.303 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:48:54.305 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:48:54.306 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 177.8186ms
2025-07-10 20:49:24.918 +05:45 [DBG] Connection id "0HNDVO37KSLFS" received FIN.
2025-07-10 20:49:24.936 +05:45 [DBG] Connection id "0HNDVO37KSLFS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:49:24.940 +05:45 [DBG] Connection id "0HNDVO37KSLFS" is closed. The last processed stream ID was 29.
2025-07-10 20:49:24.943 +05:45 [DBG] The connection queue processing loop for 0HNDVO37KSLFS completed.
2025-07-10 20:49:24.945 +05:45 [DBG] Connection id "0HNDVO37KSLFS" stopped.
2025-07-10 20:49:45.426 +05:45 [DBG] Connection id "0HNDVO37KSLFT" accepted.
2025-07-10 20:49:45.432 +05:45 [DBG] Connection id "0HNDVO37KSLFT" started.
2025-07-10 20:49:45.436 +05:45 [DBG] Connection 0HNDVO37KSLFT established using the following protocol: "Tls12"
2025-07-10 20:49:45.443 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Employee/CreateEmployee - application/json 142
2025-07-10 20:49:45.451 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/CreateEmployee'
2025-07-10 20:49:45.452 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)' with route pattern 'api/Employee/CreateEmployee' is valid for the request path '/api/Employee/CreateEmployee'
2025-07-10 20:49:45.453 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)'
2025-07-10 20:49:45.454 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:49:45.455 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:49:45.456 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:49:45.457 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:49:45.457 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:49:45.458 +05:45 [DBG] Authorization was successful.
2025-07-10 20:49:45.459 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)'
2025-07-10 20:49:45.460 +05:45 [INF] Route matched with {action = "Create", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(MultiTenantSystem.Application.DTOs.CreateEmployeeDto) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 20:49:45.461 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:49:45.462 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:49:45.464 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:49:45.465 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:49:45.468 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:49:45.469 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:49:45.470 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:49:45.471 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 20:49:45.472 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' using the name '' in request data ...
2025-07-10 20:49:45.473 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:49:45.475 +05:45 [DBG] Connection id "0HNDVO37KSLFT", Request id "0HNDVO37KSLFT:00000001": started reading request body.
2025-07-10 20:49:45.476 +05:45 [DBG] Connection id "0HNDVO37KSLFT", Request id "0HNDVO37KSLFT:00000001": done reading request body.
2025-07-10 20:49:45.477 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'
2025-07-10 20:49:45.478 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:49:45.479 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:49:45.480 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 20:49:45.481 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:49:45.484 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:49:45.486 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:49:45.487 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:49:45.487 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:49:45.488 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:49:45.489 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:49:45.490 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:49:45.491 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:49:45.492 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:49:45.493 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:49:45.493 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:49:45.494 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:49:45.495 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Employees" ("Id", "Address", "ContactNo", "Email", "FullName", "Position", "TenantId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-10 20:49:45.498 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Employees" ("Id", "Address", "ContactNo", "Email", "FullName", "Position", "TenantId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-10 20:49:45.501 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:49:45.502 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-07-10 20:49:45.503 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:49:45.504 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:49:45.506 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:49:45.507 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:49:45.508 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:49:45.510 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:49:45.511 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:49:45.512 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:49:45.512 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:49:45.514 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2025-07-10 20:49:45.515 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API) in 45.7971ms
2025-07-10 20:49:45.516 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Create (MultiTenantSystem.API)'
2025-07-10 20:49:45.518 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:49:45.519 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:49:45.520 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:49:45.521 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Employee/CreateEmployee - 200 null application/json; charset=utf-8 77.6817ms
2025-07-10 20:50:05.587 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/api/Employee/GetAllEmployee - null null
2025-07-10 20:50:05.606 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/GetAllEmployee'
2025-07-10 20:50:05.608 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API)' with route pattern 'api/Employee/GetAllEmployee' is valid for the request path '/api/Employee/GetAllEmployee'
2025-07-10 20:50:05.611 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:50:05.613 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:50:05.615 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:50:05.616 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:50:05.617 +05:45 [DBG] Authorization was successful.
2025-07-10 20:50:05.618 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:50:05.624 +05:45 [INF] Route matched with {action = "GetAll", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 20:50:05.626 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:50:05.628 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:50:05.630 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:50:05.634 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:50:05.637 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:50:05.639 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:50:05.641 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:50:05.644 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:50:05.649 +05:45 [DBG] Compiling query expression: 
'DbSet<Employee>()'
2025-07-10 20:50:05.654 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Address (string) Required, 1], [Property: Employee.ContactNo (string) Required, 2], [Property: Employee.Email (string) Required, 3], [Property: Employee.FullName (string) Required, 4], [Property: Employee.Position (string) Required, 5], [Property: Employee.TenantId (Guid) Required, 6] }
        SELECT e.Id, e.Address, e.ContactNo, e.Email, e.FullName, e.Position, e.TenantId
        FROM Employees AS e), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 20:50:05.658 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:50:05.658 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:50:05.659 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:50:05.660 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:50:05.661 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:50:05.663 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:50:05.664 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:50:05.665 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
2025-07-10 20:50:05.668 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
2025-07-10 20:50:05.671 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:50:05.673 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:50:05.674 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:50:05.675 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 4ms reading results.
2025-07-10 20:50:05.676 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:50:05.677 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:50:05.681 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:50:05.683 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:50:05.683 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:50:05.684 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:50:05.685 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:50:05.686 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MultiTenantSystem.Application.DTOs.EmployeeDto, MultiTenantSystem.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-10 20:50:05.688 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API) in 49.5749ms
2025-07-10 20:50:05.690 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:50:05.691 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:50:05.692 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:50:05.693 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:50:05.694 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/api/Employee/GetAllEmployee - 200 null application/json; charset=utf-8 108.2067ms
2025-07-10 20:50:55.526 +05:45 [INF] Request starting HTTP/2 PUT https://localhost:7201/api/Employee/UpdateEmployee/9146c850-27d8-499d-8a9f-069e74694847 - application/json 57
2025-07-10 20:50:55.534 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/UpdateEmployee/9146c850-27d8-499d-8a9f-069e74694847'
2025-07-10 20:50:55.535 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)' with route pattern 'api/Employee/UpdateEmployee/{id}' is valid for the request path '/api/Employee/UpdateEmployee/9146c850-27d8-499d-8a9f-069e74694847'
2025-07-10 20:50:55.537 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 20:50:55.537 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:50:55.538 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:50:55.539 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:50:55.540 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:50:55.541 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:50:55.541 +05:45 [DBG] Authorization was successful.
2025-07-10 20:50:55.542 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 20:50:55.546 +05:45 [INF] Route matched with {action = "Update", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, MultiTenantSystem.Application.DTOs.CreateEmployeeDto) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 20:50:55.548 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:50:55.550 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:50:55.552 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:50:55.554 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:50:55.555 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:50:55.556 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:50:55.557 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:50:55.558 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-07-10 20:50:55.560 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-07-10 20:50:55.561 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 20:50:55.563 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 20:50:55.564 +05:45 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-07-10 20:50:55.565 +05:45 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-07-10 20:50:55.566 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 20:50:55.567 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' using the name '' in request data ...
2025-07-10 20:50:55.568 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:50:55.570 +05:45 [DBG] Connection id "0HNDVO37KSLFT", Request id "0HNDVO37KSLFT:00000005": started reading request body.
2025-07-10 20:50:55.570 +05:45 [DBG] Connection id "0HNDVO37KSLFT", Request id "0HNDVO37KSLFT:00000005": done reading request body.
2025-07-10 20:50:55.571 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'
2025-07-10 20:50:55.572 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:50:55.573 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:50:55.575 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 20:50:55.578 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:50:55.579 +05:45 [DBG] The request has model state errors, returning an error response.
2025-07-10 20:50:55.580 +05:45 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-07-10 20:50:55.581 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:50:55.584 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:50:55.585 +05:45 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-07-10 20:50:55.587 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-07-10 20:50:55.588 +05:45 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-10 20:50:55.601 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API) in 44.8148ms
2025-07-10 20:50:55.607 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 20:50:55.610 +05:45 [INF] Request finished HTTP/2 PUT https://localhost:7201/api/Employee/UpdateEmployee/9146c850-27d8-499d-8a9f-069e74694847 - 400 null application/problem+json; charset=utf-8 84.2633ms
2025-07-10 20:51:24.739 +05:45 [INF] Request starting HTTP/2 PUT https://localhost:7201/api/Employee/UpdateEmployee/9146c850-27d8-499d-8a9f-069e74694847 - application/json 136
2025-07-10 20:51:24.746 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/UpdateEmployee/9146c850-27d8-499d-8a9f-069e74694847'
2025-07-10 20:51:24.748 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)' with route pattern 'api/Employee/UpdateEmployee/{id}' is valid for the request path '/api/Employee/UpdateEmployee/9146c850-27d8-499d-8a9f-069e74694847'
2025-07-10 20:51:24.750 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 20:51:24.751 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:51:24.752 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:51:24.753 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:51:24.754 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:51:24.755 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:51:24.755 +05:45 [DBG] Authorization was successful.
2025-07-10 20:51:24.756 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 20:51:24.757 +05:45 [INF] Route matched with {action = "Update", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, MultiTenantSystem.Application.DTOs.CreateEmployeeDto) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 20:51:24.758 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:51:24.760 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:51:24.762 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:51:24.763 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:51:24.765 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:51:24.766 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:51:24.767 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:51:24.768 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-07-10 20:51:24.769 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-07-10 20:51:24.770 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 20:51:24.771 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 20:51:24.772 +05:45 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-07-10 20:51:24.773 +05:45 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-07-10 20:51:24.774 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 20:51:24.775 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' using the name '' in request data ...
2025-07-10 20:51:24.777 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:51:24.779 +05:45 [DBG] Connection id "0HNDVO37KSLFT", Request id "0HNDVO37KSLFT:00000007": started reading request body.
2025-07-10 20:51:24.779 +05:45 [DBG] Connection id "0HNDVO37KSLFT", Request id "0HNDVO37KSLFT:00000007": done reading request body.
2025-07-10 20:51:24.781 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'
2025-07-10 20:51:24.782 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:51:24.783 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:51:24.784 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto' ...
2025-07-10 20:51:24.786 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.CreateEmployeeDto'.
2025-07-10 20:51:24.789 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:51:24.794 +05:45 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2025-07-10 20:51:24.799 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: new SingleQueryingEnumerable<Employee>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.Address (string) Required, 1], [Property: Employee.ContactNo (string) Required, 2], [Property: Employee.Email (string) Required, 3], [Property: Employee.FullName (string) Required, 4], [Property: Employee.Position (string) Required, 5], [Property: Employee.TenantId (Guid) Required, 6] }
            SELECT TOP(1) e.Id, e.Address, e.ContactNo, e.Email, e.FullName, e.Position, e.TenantId
            FROM Employees AS e
            WHERE e.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:51:24.801 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:51:24.802 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:51:24.803 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.804 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.805 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:51:24.806 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:51:24.806 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:51:24.807 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 20:51:24.811 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 20:51:24.820 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:51:24.821 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.822 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:51:24.823 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.824 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:51:24.826 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:51:24.828 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:51:24.829 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:51:24.830 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:51:24.831 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.831 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.833 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:51:24.833 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:51:24.834 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:51:24.835 +05:45 [DBG] Executing DbCommand [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Employees" SET "Address" = @p0, "ContactNo" = @p1, "Email" = @p2, "FullName" = @p3, "Position" = @p4, "TenantId" = @p5
WHERE "Id" = @p6;
2025-07-10 20:51:24.838 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Employees" SET "Address" = @p0, "ContactNo" = @p1, "Email" = @p2, "FullName" = @p3, "Position" = @p4, "TenantId" = @p5
WHERE "Id" = @p6;
2025-07-10 20:51:24.840 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.841 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:51:24.844 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.845 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:51:24.846 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:51:24.847 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:51:24.850 +05:45 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-10 20:51:24.851 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API) in 84.9242ms
2025-07-10 20:51:24.852 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Update (MultiTenantSystem.API)'
2025-07-10 20:51:24.853 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:51:24.854 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:24.855 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:51:24.857 +05:45 [INF] Request finished HTTP/2 PUT https://localhost:7201/api/Employee/UpdateEmployee/9146c850-27d8-499d-8a9f-069e74694847 - 204 null null 118.6949ms
2025-07-10 20:51:56.927 +05:45 [INF] Request starting HTTP/2 DELETE https://localhost:7201/api/Employee/DeleteEmployee/9146c850-27d8-499d-8a9f-069e74694847 - null null
2025-07-10 20:51:56.936 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Employee/DeleteEmployee/9146c850-27d8-499d-8a9f-069e74694847'
2025-07-10 20:51:56.937 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)' with route pattern 'api/Employee/DeleteEmployee/{id}' is valid for the request path '/api/Employee/DeleteEmployee/9146c850-27d8-499d-8a9f-069e74694847'
2025-07-10 20:51:56.939 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 20:51:56.940 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:51:56.940 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:51:56.942 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:51:56.944 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:51:56.945 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:51:56.946 +05:45 [DBG] Authorization was successful.
2025-07-10 20:51:56.946 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 20:51:56.950 +05:45 [INF] Route matched with {action = "Delete", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid) on controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API).
2025-07-10 20:51:56.953 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:51:56.954 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:51:56.955 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:51:56.957 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:51:56.958 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:51:56.960 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:51:56.961 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.EmployeeController (MultiTenantSystem.API)
2025-07-10 20:51:56.962 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-07-10 20:51:56.963 +05:45 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-07-10 20:51:56.964 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 20:51:56.965 +05:45 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-07-10 20:51:56.966 +05:45 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-07-10 20:51:56.967 +05:45 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-07-10 20:51:56.970 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:51:56.972 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:51:56.973 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:51:56.974 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:56.975 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:56.976 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:51:56.977 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:51:56.977 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:51:56.978 +05:45 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 20:51:56.981 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT e."Id", e."Address", e."ContactNo", e."Email", e."FullName", e."Position", e."TenantId"
FROM "Employees" AS e
WHERE e."Id" = @__get_Item_0
LIMIT 1
2025-07-10 20:51:56.983 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:51:56.985 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:56.986 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:51:56.987 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:56.988 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:51:56.990 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:51:56.992 +05:45 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2025-07-10 20:51:56.993 +05:45 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2025-07-10 20:51:56.994 +05:45 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2025-07-10 20:51:56.997 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:56.998 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:56.999 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:51:57.000 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:51:57.001 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:51:57.003 +05:45 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Employees"
WHERE "Id" = @p0;
2025-07-10 20:51:57.006 +05:45 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Employees"
WHERE "Id" = @p0;
2025-07-10 20:51:57.008 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:57.009 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:51:57.010 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:57.011 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:51:57.015 +05:45 [DBG] An entity of type 'Employee' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:51:57.016 +05:45 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2025-07-10 20:51:57.021 +05:45 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-10 20:51:57.022 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API) in 62.0214ms
2025-07-10 20:51:57.023 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.EmployeeController.Delete (MultiTenantSystem.API)'
2025-07-10 20:51:57.025 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:51:57.026 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:51:57.027 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:51:57.029 +05:45 [INF] Request finished HTTP/2 DELETE https://localhost:7201/api/Employee/DeleteEmployee/9146c850-27d8-499d-8a9f-069e74694847 - 204 null null 102.0588ms
2025-07-10 20:58:33.836 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 20:58:33.961 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 20:58:34.382 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 20:58:34.385 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 20:58:34.618 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:58:34.676 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 20:58:34.846 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:58:34.883 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:58:34.923 +05:45 [DBG] Created DbConnection. (36ms).
2025-07-10 20:58:34.931 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.078 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.083 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:58:35.090 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-07-10 20:58:35.096 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2025-07-10 20:58:35.105 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:58:35.179 +05:45 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:58:35.228 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:58:35.250 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.261 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 73ms reading results.
2025-07-10 20:58:35.269 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.276 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (7ms).
2025-07-10 20:58:35.284 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 20:58:35.296 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 20:58:35.301 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.303 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.304 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:58:35.305 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:58:35.307 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:58:35.308 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:58:35.315 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:58:35.330 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:58:35.367 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.369 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 51ms reading results.
2025-07-10 20:58:35.370 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.372 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:58:35.377 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.380 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.381 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:58:35.382 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:58:35.383 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:58:35.385 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:58:35.388 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:58:35.391 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:58:35.393 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.394 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-07-10 20:58:35.397 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.399 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:58:35.401 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.402 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.404 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:58:35.405 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:58:35.408 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-10 20:58:35.409 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:58:35.412 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 20:58:35.414 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:58:35.416 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.417 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:58:35.419 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.420 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:58:35.423 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:58:35.425 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:35.427 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:58:35.477 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 20:58:35.532 +05:45 [DBG] Hosting starting
2025-07-10 20:58:35.541 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 20:58:35.549 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 20:58:35.551 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 20:58:35.553 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 20:58:35.554 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 20:58:35.556 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 20:58:35.557 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 20:58:35.561 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 20:58:35.567 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 20:58:35.569 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 20:58:35.570 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 20:58:35.571 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 20:58:35.572 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 20:58:35.573 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 20:58:35.579 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 20:58:35.584 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:58:35.586 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 20:58:35.589 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 20:58:35.593 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 20:58:35.597 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 20:58:35.602 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 20:58:35.605 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 20:58:35.612 +05:45 [DBG] Middleware loaded
2025-07-10 20:58:35.615 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 20:58:35.618 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 20:58:35.708 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 20:58:35.811 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 20:58:35.813 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 20:58:35.815 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 20:58:35.816 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 20:58:35.817 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 20:58:35.818 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 20:58:35.878 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 20:58:35.879 +05:45 [INF] Hosting environment: Development
2025-07-10 20:58:35.880 +05:45 [INF] Content root path: D:\SumX\MultiTenantSystem.API
2025-07-10 20:58:35.881 +05:45 [DBG] Hosting started
2025-07-10 20:58:35.927 +05:45 [DBG] Connection id "0HNDVOHBO8P14" received FIN.
2025-07-10 20:58:35.933 +05:45 [DBG] Connection id "0HNDVOHBO8P14" accepted.
2025-07-10 20:58:35.935 +05:45 [DBG] Connection id "0HNDVOHBO8P14" started.
2025-07-10 20:58:35.951 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 20:58:35.995 +05:45 [DBG] Connection id "0HNDVOHBO8P14" stopped.
2025-07-10 20:58:36.000 +05:45 [DBG] Connection id "0HNDVOHBO8P14" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 20:58:36.254 +05:45 [DBG] Connection id "0HNDVOHBO8P15" accepted.
2025-07-10 20:58:36.256 +05:45 [DBG] Connection id "0HNDVOHBO8P15" started.
2025-07-10 20:58:36.295 +05:45 [DBG] Connection 0HNDVOHBO8P15 established using the following protocol: "Tls12"
2025-07-10 20:58:36.333 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 20:58:36.428 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 20:58:36.442 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 20:58:36.445 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:58:36.490 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 20:58:36.493 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 20:58:36.508 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 20:58:36.510 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 20:58:36.513 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 183.4573ms
2025-07-10 20:58:36.792 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 20:58:36.792 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 20:58:36.808 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 20:58:36.812 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 20.4999ms
2025-07-10 20:58:36.848 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.0985ms
2025-07-10 20:58:36.988 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 20:58:36.992 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 20:58:36.994 +05:45 [DBG] Request did not match any endpoints
2025-07-10 20:58:37.012 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.1085ms
2025-07-10 20:58:58.102 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 59
2025-07-10 20:58:58.110 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 20:58:58.112 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 20:58:58.115 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:58:58.119 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:58:58.122 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:58:58.123 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:58:59.162 +05:45 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-10 20:58:59.166 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:58:59.180 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 20:58:59.185 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:58:59.187 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:58:59.188 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:58:59.190 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:58:59.191 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:58:59.193 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:58:59.196 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:58:59.207 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:58:59.210 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 20:58:59.213 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:58:59.222 +05:45 [DBG] Connection id "0HNDVOHBO8P15", Request id "0HNDVOHBO8P15:00000009": started reading request body.
2025-07-10 20:58:59.225 +05:45 [DBG] Connection id "0HNDVOHBO8P15", Request id "0HNDVOHBO8P15:00000009": done reading request body.
2025-07-10 20:58:59.228 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 20:58:59.230 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:58:59.231 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:58:59.232 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:58:59.241 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:58:59.289 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:58:59.293 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:58:59.293 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:58:59.294 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:59.295 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:59.296 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:58:59.297 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:58:59.298 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:58:59.299 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:58:59.303 +05:45 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:58:59.305 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:59.306 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:58:59.308 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:59.309 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:58:59.315 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:58:59.321 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:58:59.321 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:58:59.322 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:58:59.325 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-07-10 20:58:59.326 +05:45 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-07-10 20:58:59.331 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 136.0644ms
2025-07-10 20:58:59.333 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:58:59.337 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:58:59.341 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:58:59.343 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 20:58:59.345 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 401 null text/plain; charset=utf-8 1243.4577ms
2025-07-10 20:59:08.035 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 60
2025-07-10 20:59:08.039 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 20:59:08.040 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 20:59:08.042 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:59:08.044 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:59:08.045 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 20:59:08.045 +05:45 [INF] CORS policy execution successful.
2025-07-10 20:59:08.047 +05:45 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-10 20:59:08.048 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:59:08.049 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 20:59:08.050 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:59:08.052 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:59:08.053 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:59:08.054 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:59:08.056 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:59:08.057 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:59:08.063 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 20:59:08.068 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:59:08.069 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 20:59:08.070 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 20:59:08.071 +05:45 [DBG] Connection id "0HNDVOHBO8P15", Request id "0HNDVOHBO8P15:0000000B": started reading request body.
2025-07-10 20:59:08.072 +05:45 [DBG] Connection id "0HNDVOHBO8P15", Request id "0HNDVOHBO8P15:0000000B": done reading request body.
2025-07-10 20:59:08.073 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 20:59:08.074 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:59:08.075 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:59:08.076 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 20:59:08.078 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 20:59:08.087 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:59:08.091 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:59:08.091 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:59:08.092 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.093 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.094 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:59:08.096 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:59:08.097 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 20:59:08.099 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:59:08.102 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 20:59:08.105 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:59:08.106 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.107 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 20:59:08.108 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.109 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:59:08.279 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-10 20:59:08.359 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 20:59:08.364 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.366 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.368 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:59:08.368 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:59:08.369 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:59:08.370 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:59:08.375 +05:45 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 20:59:08.378 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.379 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 20:59:08.381 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.383 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:59:08.446 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:59:08.451 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:59:08.451 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:59:08.452 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:59:08.453 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:59:08.454 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 20:59:08.458 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 400.8583ms
2025-07-10 20:59:08.460 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 20:59:08.461 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:59:08.463 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:08.464 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:59:08.467 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 431.841ms
2025-07-10 20:59:25.656 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/api/Tenant/GetAllTenant - null null
2025-07-10 20:59:25.659 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Tenant/GetAllTenant'
2025-07-10 20:59:25.660 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)' with route pattern 'api/Tenant/GetAllTenant' is valid for the request path '/api/Tenant/GetAllTenant'
2025-07-10 20:59:25.663 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:59:25.664 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 20:59:25.701 +05:45 [DBG] Successfully validated the token.
2025-07-10 20:59:25.704 +05:45 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-10 20:59:25.708 +05:45 [DBG] Authorization was successful.
2025-07-10 20:59:25.711 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:59:25.714 +05:45 [INF] Route matched with {action = "GetAll", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API).
2025-07-10 20:59:25.717 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 20:59:25.718 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 20:59:25.719 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 20:59:25.721 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 20:59:25.722 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 20:59:25.723 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:59:25.727 +05:45 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-10 20:59:25.728 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.TenantController (MultiTenantSystem.API)
2025-07-10 20:59:25.732 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 20:59:25.737 +05:45 [DBG] Compiling query expression: 
'DbSet<Tenant>()'
2025-07-10 20:59:25.741 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Tenant>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Tenant.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Tenant.Name (string) Required, 1] }
        SELECT t.Id, t.Name
        FROM Tenants AS t), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tenant>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 20:59:25.744 +05:45 [DBG] Creating DbConnection.
2025-07-10 20:59:25.745 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 20:59:25.745 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:25.746 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:25.747 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 20:59:25.748 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 20:59:25.749 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 20:59:25.750 +05:45 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tenants" AS t
2025-07-10 20:59:25.754 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tenants" AS t
2025-07-10 20:59:25.758 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:59:25.762 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 20:59:25.764 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:25.765 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 8ms reading results.
2025-07-10 20:59:25.766 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:25.767 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (0ms).
2025-07-10 20:59:25.769 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 20:59:25.771 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 20:59:25.771 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 20:59:25.772 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 20:59:25.773 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 20:59:25.774 +05:45 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[MultiTenantSystem.Core.Entities.Tenant, MultiTenantSystem.Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-10 20:59:25.783 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API) in 59.6227ms
2025-07-10 20:59:25.787 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.TenantController.GetAll (MultiTenantSystem.API)'
2025-07-10 20:59:25.788 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 20:59:25.789 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 20:59:25.790 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 20:59:25.792 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/api/Tenant/GetAllTenant - 200 null application/json; charset=utf-8 136.1971ms
2025-07-10 21:06:02.575 +05:45 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-10 21:06:02.691 +05:45 [INF] User profile is available. Using 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-10 21:06:03.312 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-10 21:06:03.315 +05:45 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-10 21:06:03.542 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 21:06:03.591 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityRole<Guid>>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-10 21:06:03.754 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole<Guid>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole<Guid>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole<Guid>.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityRole<Guid>.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole<Guid>.Name (string) MaxLength(256), 2], [Property: IdentityRole<Guid>.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole<Guid>>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 21:06:03.790 +05:45 [DBG] Creating DbConnection.
2025-07-10 21:06:03.830 +05:45 [DBG] Created DbConnection. (36ms).
2025-07-10 21:06:03.837 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.125 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.130 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 21:06:04.137 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-10 21:06:04.143 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-07-10 21:06:04.151 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 21:06:04.210 +05:45 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 21:06:04.245 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 21:06:04.265 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.276 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 57ms reading results.
2025-07-10 21:06:04.281 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.286 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (5ms).
2025-07-10 21:06:04.292 +05:45 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-10 21:06:04.301 +05:45 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.LockoutEnabled (bool) Required, 5], [Property: User.LockoutEnd (DateTimeOffset?), 6], [Property: User.NormalizedEmail (string) Index MaxLength(256), 7], [Property: User.NormalizedUserName (string) Index MaxLength(256), 8], [Property: User.PasswordHash (string), 9], [Property: User.PhoneNumber (string), 10], [Property: User.PhoneNumberConfirmed (bool) Required, 11], [Property: User.SecurityStamp (string), 12], [Property: User.TenantId (Guid?) FK Index, 13], [Property: User.TwoFactorEnabled (bool) Required, 14], [Property: User.UserName (string) MaxLength(256), 15] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TenantId, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-10 21:06:04.305 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.308 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.309 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 21:06:04.310 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 21:06:04.311 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 21:06:04.312 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 21:06:04.319 +05:45 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 21:06:04.333 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 21:06:04.360 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.362 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 41ms reading results.
2025-07-10 21:06:04.364 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.365 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 21:06:04.368 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.369 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.371 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 21:06:04.373 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 21:06:04.374 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 21:06:04.375 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 21:06:04.378 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 21:06:04.381 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 21:06:04.382 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.383 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 21:06:04.384 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.385 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 21:06:04.387 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.388 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.391 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 21:06:04.392 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 21:06:04.393 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 21:06:04.394 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 21:06:04.397 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-07-10 21:06:04.399 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 21:06:04.401 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.402 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 21:06:04.403 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.404 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 21:06:04.407 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 21:06:04.409 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:04.411 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 21:06:04.459 +05:45 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-10 21:06:04.510 +05:45 [DBG] Hosting starting
2025-07-10 21:06:04.518 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-354bd4f1-779b-4a72-abc1-35e0d2b44b99.xml'.
2025-07-10 21:06:04.525 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-7bda02e6-b469-4fed-9bd5-949e38489f91.xml'.
2025-07-10 21:06:04.528 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-9ea129c0-67bd-46e9-97b8-4894909a6a4d.xml'.
2025-07-10 21:06:04.529 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4.xml'.
2025-07-10 21:06:04.530 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-abb19047-f49d-409a-9df5-f8ca71c728e1.xml'.
2025-07-10 21:06:04.531 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-cc3df15b-8ea4-451b-950c-a60304633c00.xml'.
2025-07-10 21:06:04.533 +05:45 [DBG] Reading data from file 'C:\Users\Dell\AppData\Local\ASP.NET\DataProtection-Keys\key-ee0fc77e-4211-4ce5-b35f-04a9e599250c.xml'.
2025-07-10 21:06:04.536 +05:45 [DBG] Found key {354bd4f1-779b-4a72-abc1-35e0d2b44b99}.
2025-07-10 21:06:04.540 +05:45 [DBG] Found key {7bda02e6-b469-4fed-9bd5-949e38489f91}.
2025-07-10 21:06:04.542 +05:45 [DBG] Found key {9ea129c0-67bd-46e9-97b8-4894909a6a4d}.
2025-07-10 21:06:04.543 +05:45 [DBG] Found key {ab8e3c4c-dc6d-40fb-90e8-17be2cc52cc4}.
2025-07-10 21:06:04.545 +05:45 [DBG] Found key {abb19047-f49d-409a-9df5-f8ca71c728e1}.
2025-07-10 21:06:04.546 +05:45 [DBG] Found key {cc3df15b-8ea4-451b-950c-a60304633c00}.
2025-07-10 21:06:04.547 +05:45 [DBG] Found key {ee0fc77e-4211-4ce5-b35f-04a9e599250c}.
2025-07-10 21:06:04.552 +05:45 [DBG] Considering key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} with expiration date 2025-08-25 04:19:37Z as default key.
2025-07-10 21:06:04.557 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 21:06:04.559 +05:45 [DBG] Decrypting secret element using Windows DPAPI.
2025-07-10 21:06:04.561 +05:45 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-10 21:06:04.564 +05:45 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-07-10 21:06:04.567 +05:45 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-07-10 21:06:04.571 +05:45 [DBG] Using key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} as the default key.
2025-07-10 21:06:04.573 +05:45 [DBG] Key ring with default key {ee0fc77e-4211-4ce5-b35f-04a9e599250c} was loaded during application startup.
2025-07-10 21:06:04.578 +05:45 [DBG] Middleware loaded
2025-07-10 21:06:04.581 +05:45 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16527 B).
2025-07-10 21:06:04.583 +05:45 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-07-10 21:06:04.654 +05:45 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-07-10 21:06:04.735 +05:45 [INF] Now listening on: https://localhost:7201
2025-07-10 21:06:04.737 +05:45 [INF] Now listening on: http://localhost:5122
2025-07-10 21:06:04.738 +05:45 [DBG] Loaded hosting startup assembly MultiTenantSystem.API
2025-07-10 21:06:04.739 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-07-10 21:06:04.739 +05:45 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-07-10 21:06:04.740 +05:45 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-07-10 21:06:04.791 +05:45 [INF] Application started. Press Ctrl+C to shut down.
2025-07-10 21:06:04.792 +05:45 [INF] Hosting environment: Development
2025-07-10 21:06:04.793 +05:45 [INF] Content root path: D:\SumX\MultiTenantSystem.API
2025-07-10 21:06:04.794 +05:45 [DBG] Hosting started
2025-07-10 21:06:05.130 +05:45 [DBG] Connection id "0HNDVOLHK6O07" received FIN.
2025-07-10 21:06:05.139 +05:45 [DBG] Connection id "0HNDVOLHK6O07" accepted.
2025-07-10 21:06:05.141 +05:45 [DBG] Connection id "0HNDVOLHK6O07" started.
2025-07-10 21:06:05.155 +05:45 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-10 21:06:05.186 +05:45 [DBG] Connection id "0HNDVOLHK6O07" stopped.
2025-07-10 21:06:05.189 +05:45 [DBG] Connection id "0HNDVOLHK6O07" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 21:06:05.423 +05:45 [DBG] Connection id "0HNDVOLHK6O08" accepted.
2025-07-10 21:06:05.428 +05:45 [DBG] Connection id "0HNDVOLHK6O08" started.
2025-07-10 21:06:05.488 +05:45 [DBG] Connection 0HNDVOLHK6O08 established using the following protocol: "Tls12"
2025-07-10 21:06:05.548 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/index.html - null null
2025-07-10 21:06:05.642 +05:45 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-10 21:06:05.657 +05:45 [DBG] No candidates found for the request path '/swagger/index.html'
2025-07-10 21:06:05.659 +05:45 [DBG] Request did not match any endpoints
2025-07-10 21:06:05.711 +05:45 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-10 21:06:05.713 +05:45 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-10 21:06:05.730 +05:45 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-10 21:06:05.732 +05:45 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-10 21:06:05.736 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/index.html - 200 null text/html;charset=utf-8 192.5332ms
2025-07-10 21:06:06.057 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 21:06:06.057 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_vs/browserLink - null null
2025-07-10 21:06:06.072 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 21:06:06.074 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - null null
2025-07-10 21:06:06.080 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 22.8477ms
2025-07-10 21:06:06.090 +05:45 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-07-10 21:06:06.095 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_framework/aspnetcore-browser-refresh.js - 200 16527 application/javascript; charset=utf-8 21.969ms
2025-07-10 21:06:06.147 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/_vs/browserLink - 200 null text/javascript; charset=UTF-8 89.2305ms
2025-07-10 21:06:06.286 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 21:06:06.288 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 21:06:06.289 +05:45 [DBG] Request did not match any endpoints
2025-07-10 21:06:06.311 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.8699ms
2025-07-10 21:06:06.325 +05:45 [INF] Request starting HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - null null
2025-07-10 21:06:06.329 +05:45 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-07-10 21:06:06.330 +05:45 [DBG] Request did not match any endpoints
2025-07-10 21:06:06.339 +05:45 [INF] Request finished HTTP/2 GET https://localhost:7201/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.0016ms
2025-07-10 21:06:33.891 +05:45 [INF] Request starting HTTP/2 POST https://localhost:7201/api/Auth/login - application/json 60
2025-07-10 21:06:33.904 +05:45 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-07-10 21:06:33.907 +05:45 [DBG] Endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-07-10 21:06:33.910 +05:45 [DBG] Request matched endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 21:06:33.913 +05:45 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-10 21:06:33.914 +05:45 [DBG] The request has an origin header: 'https://localhost:7201'.
2025-07-10 21:06:33.915 +05:45 [INF] CORS policy execution successful.
2025-07-10 21:06:33.968 +05:45 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-10 21:06:33.971 +05:45 [INF] Executing endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 21:06:33.990 +05:45 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(MultiTenantSystem.Application.DTOs.LoginDto) on controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API).
2025-07-10 21:06:33.994 +05:45 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-10 21:06:33.995 +05:45 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-10 21:06:33.997 +05:45 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-10 21:06:33.999 +05:45 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-10 21:06:34.001 +05:45 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-10 21:06:34.004 +05:45 [DBG] Executing controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 21:06:34.010 +05:45 [DBG] Executed controller factory for controller MultiTenantSystem.API.Controllers.AuthController (MultiTenantSystem.API)
2025-07-10 21:06:34.021 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 21:06:34.025 +05:45 [DBG] Attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' using the name '' in request data ...
2025-07-10 21:06:34.028 +05:45 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-10 21:06:34.038 +05:45 [DBG] Connection id "0HNDVOLHK6O08", Request id "0HNDVOLHK6O08:0000000D": started reading request body.
2025-07-10 21:06:34.041 +05:45 [DBG] Connection id "0HNDVOLHK6O08", Request id "0HNDVOLHK6O08:0000000D": done reading request body.
2025-07-10 21:06:34.046 +05:45 [DBG] JSON input formatter succeeded, deserializing to type 'MultiTenantSystem.Application.DTOs.LoginDto'
2025-07-10 21:06:34.048 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 21:06:34.050 +05:45 [DBG] Done attempting to bind parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 21:06:34.051 +05:45 [DBG] Attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto' ...
2025-07-10 21:06:34.068 +05:45 [DBG] Done attempting to validate the bound parameter 'dto' of type 'MultiTenantSystem.Application.DTOs.LoginDto'.
2025-07-10 21:06:34.124 +05:45 [DBG] Entity Framework Core 8.0.17 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.11+52a6b9f2ddd23fcabd1c673b4a2e273495129481' with options: None
2025-07-10 21:06:34.130 +05:45 [DBG] Creating DbConnection.
2025-07-10 21:06:34.131 +05:45 [DBG] Created DbConnection. (0ms).
2025-07-10 21:06:34.132 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.133 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.134 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 21:06:34.135 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-10 21:06:34.136 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-10 21:06:34.137 +05:45 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 21:06:34.140 +05:45 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TenantId", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-07-10 21:06:34.144 +05:45 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-10 21:06:34.145 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.146 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-07-10 21:06:34.148 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.149 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 21:06:34.244 +05:45 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<IdentityRole<Guid>>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-10 21:06:34.295 +05:45 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    MultiTenantSystem.Infrastructure.Identity.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2025-07-10 21:06:34.299 +05:45 [DBG] Opening connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.300 +05:45 [DBG] Opened connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.302 +05:45 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-10 21:06:34.302 +05:45 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-10 21:06:34.304 +05:45 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-10 21:06:34.305 +05:45 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 21:06:34.314 +05:45 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2025-07-10 21:06:34.318 +05:45 [DBG] Closing data reader to 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.319 +05:45 [DBG] A data reader for 'MultiTenantDb' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-07-10 21:06:34.320 +05:45 [DBG] Closing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.321 +05:45 [DBG] Closed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (1ms).
2025-07-10 21:06:34.365 +05:45 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-10 21:06:34.369 +05:45 [DBG] No information found on request to perform content negotiation.
2025-07-10 21:06:34.370 +05:45 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-10 21:06:34.371 +05:45 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-10 21:06:34.372 +05:45 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-10 21:06:34.374 +05:45 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-10 21:06:34.383 +05:45 [INF] Executed action MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API) in 376.7311ms
2025-07-10 21:06:34.385 +05:45 [INF] Executed endpoint 'MultiTenantSystem.API.Controllers.AuthController.Login (MultiTenantSystem.API)'
2025-07-10 21:06:34.388 +05:45 [DBG] 'ApplicationDbContext' disposed.
2025-07-10 21:06:34.393 +05:45 [DBG] Disposing connection to database 'MultiTenantDb' on server 'tcp://localhost:5432'.
2025-07-10 21:06:34.395 +05:45 [DBG] Disposed connection to database 'MultiTenantDb' on server 'tcp://localhost:5432' (2ms).
2025-07-10 21:06:34.399 +05:45 [INF] Request finished HTTP/2 POST https://localhost:7201/api/Auth/login - 200 null application/json; charset=utf-8 507.6002ms
2025-07-10 21:19:24.939 +05:45 [DBG] Connection id "0HNDVOLHK6O08" received FIN.
2025-07-10 21:19:24.969 +05:45 [DBG] The connection queue processing loop for 0HNDVOLHK6O08 completed.
2025-07-10 21:19:24.969 +05:45 [DBG] Connection id "0HNDVOLHK6O08" is closed. The last processed stream ID was 13.
2025-07-10 21:19:24.975 +05:45 [DBG] Connection id "0HNDVOLHK6O08" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-10 21:19:24.979 +05:45 [DBG] Connection id "0HNDVOLHK6O08" stopped.
